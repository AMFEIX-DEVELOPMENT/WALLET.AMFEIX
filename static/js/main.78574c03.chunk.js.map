{"version":3,"sources":["common/tools.mjs","common/syncCache.mjs","core/data.js","core/persistent.js","core/bignumber.js","lib/multicall/src/helpers.js","lib/multicall/src/aggregate.js","core/amfeixContract.js","common/crypto.mjs","core/db.js","core/enums.js","common/pubKeyConvertor.mjs","core/satoshi.js","serviceWorker.js","ui/icons.js","ui/formatting.js","ui/components.js","ui/investor.js","core/wallet.js","ui/admin.js","ui/login.js","ui/network.js","ui/loadProgressView.js","ui/colors.js","ui/impactFund.js","ui/wallet.js","index.js","../../common/version.js"],"names":["isA","Array","isArray","isO","o","isS","s","A","Object","assign","D","x","E","entries","oO","F","fromEntries","G","f","map","i","k","v","I","K","keys","L","P","R","msg","data","Error","S","JSON","stringify","T","oS","split","U","undefined","V","values","oA","a","oB","b","oF","singleKeyObject","makeEnum","soo","freeze","Observer","observable","onChange","context","index","this","remove","SyncCache","key","observe","retriever","obj","forEach","setData","observers","observerIx","obs","push","stati","Deposits","Pending_Withdrawals","anomalousInvestorIndexMap","b64ToHex","Buffer","from","toString","decodeDeposit","timestamp","amountX","transactionX","fromBtcAddressX","txId","fromBtcAddress","bs58check","encode","satoshiBN","BN","hostname","window","location","amfeixUK","btcRpcUrl","ethInterfaceUrl","ethInterfaceUrls","amfeixFeeFields","invMap","countTable","dataTable","amfeixAddressLists","timeAndAmount","indexMaps","investorMaps","ethBasicFields","concat","btcFields","btcRpc","method","func","params","JSONBig","fetch","encodeURIComponent","join","mode","headers","body","text","parse","invMapDBStruc","struc","tableStrucMap","keyPath","indices","tables","hierName","p","q","table","eth","constants","investorsAddresses","btc","queue","ethTransactions","constantFields","constantRetrievers","name","value","amfx","amfeixM","call","timeFunc","startTime","Date","now","result","time","getInvestorDataKey","investor","getInvestorWalletDataKey","btcAddress","Transaction","parms","fetchDeposits","fromPubKey","toAddr","Data","localData","dbix","investorData","loadProgress","progress","timings","syncCache","idb","IndexedDB","adminLoadInitiated","queuedEthTransactions","deleteDB","persist","setEthRPCUrl","onLoadProgress","d","onGlobalLoad","step","length","done","updateLoadProgress","updateConstants","t","measureTime","Promise","all","buf","newBuffer","queueOp","write","err","flushBatch","flush","functionsToPerformAfterBasicLoad","functionsToPerformAfterGenericLoad","init","genericLoad","privateKey","testMode","web3","personal","getAccounts","accounts","privateKeyToAccount","u","amfeixAddress","Math","estimateGas","to","max","encodeABI","gas","options","sendTransaction","z","status","watch","detach","updateArray","loadTimeData","l","updateFixedLengthArray","updateSyncCache","computeTimeDataFromTimeAndAmount","getAll","m","updateInvestorMappedArray","fundDeposits","getData","fundDepositObj","flat","updateBitcoinTxs","basicLoad","updateInvestorsAddresses","updateRegisteredEthTransactions","fetchFundDeposits","updateRegisteredBtcTransactions","computeData","address","getAllInvestors","toLowerCase","indexOf","updateInvestorArray","updateRegisteredTransactions","newRPCUrl","setWeb3Url","filter","getFundDepositAddresses","set","cached","sum","reduce","acc","plus","delta","getTxs","tx","ioMap","addr","uniqueAddrs","ins","outs","froms","tos","isInvestment","some","includes","fromBTC","filteredTos","filteredSum","minus","fee","type","ETransactionType","Investment","Outgoing","Incoming","txs","finalBalance","pow","getDecimals","getFactor","ff","times","performance","y","amount","div","timeData","parseFloat","roi","dailyChange","lowIndex","highIndex","low","high","countKey","sIx","startIndex","parseInt","w3Batcher","localBuf","masterKeys","final","resolve","reject","w3b","completed","currentIx","arrayName","exceedsLength","lengthName","olp","getArrayLengthAndStartIndex","alsi","findArrayLength","updateGenericArray","investorIx","getInvestorMapUpdateCountData","investorMapCountKey","ix","investors","r","lengthTable","count","slice","fd","ALPHABET","clear","n","get","promise","approvedDeposits","im","e","retrieveInvestorData","investmentValue","withdrawalRequests","pendingDeposits","lengths","allData","invKey","ethDataMap","pubKey","signature","action","dataMaps","j","min","reqWD","getList","fastLength","toObj","dedup","objs","txIdMap","has","g","Withdrawals","investment","sort","currentValueAcc","isDeposit","Withdrawn","Pending_Withdrawal","Active","endTimestamp","endIx","getPerformanceIndex","startIx","startPerf","endPerf","appliedPerf","depositedValue","currentValue","isZero","hasWithdrawalRequest","hasWithdrawal","w","wr","Processed","Pending","accCurrentValue","valueSeries","computedValues","satoshiToBTCString","derivedEthAddress","pubKeyToEthAddress","pubKeyToBtcAddress","anomalous","pubKeys","error","Persistent","persistanceKey","storedFieldNames","defaults","localStorage","getItem","setItem","BigNumber","config","log","debug","AGGREGATE_SELECTOR","strip0x","str","replace","encodeParameters","types","vals","defaultAbiCoder","decodeParameters","decode","ethCall","rawData","id","rpcUrl","block","multicallAddress","ws","wsResponseTimeout","abiEncodedData","onMessage","json","clearTimeout","timeoutHandle","onmessage","send","jsonrpc","setTimeout","rawResponse","content","INSIDE_EVERY_PARENTHESES","FIRST_CLOSING_PARENTHESES","makeMulticallData","memoize","calls","target","args","returnTypes","keccak256","substr","components","aggregate","keyToArgMap","returns","returnMeta","argValues","match","argTypesString","returnTypesString","argTypes","invariant","argValue","idx","callDataBytes","outerResults","returnTypeArray","ele","returnDataMeta","outerResultsDecoded","blockNumber","shift","parsedVals","results","resultsDecoded","retObj","original","transformed","transform","abi","methodMap","amfeixCjson","MultiCallBatch","onSuccess","onError","c","inputs","outputs","response","_hex","url","queuedOps","batchIx","queuedOpCount","processedOpCount","queuedBatches","processing","inFlight","maxInFlight","nextIx","batchSize","activeBatch","Web3","providers","WebsocketProvider","HttpProvider","timeout","Contract","methods","op","batch","add","execute","mif","executeBatch","actualFlushBatch","defaultDerivationPaths","bitcoin","ethereum","rootFromSeed","seedWords","bip32","fromSeed","bip39","mnemonicToSeedSync","ethAddressFromPubKey","getEthAddress","buffer","alloc","toBuffer","secp256k1","publicKeyConvert","btcAddressFromPubKey","pubkey","network","bitcoinJS_Lib","payments","p2pkh","pubKeyBufferToPoint","pubKeyBuffer","ECPair","fromPublicKey","publicKey","encryptKey","password","onProgress","bip38","encrypt","encryptSeedWords","root","decryptWallet","encryptedKeys","decrypt","getAmfeixNode","derivePath","coinNodesFromRoot","derive","getAmfeixPublicKey","getAmfeixPrivateKey","hexOnly","pubKeyHex","prefix","getWalletRoot","fromPrivateKey","privKeyBuffer","chainCode","generateSeedWords","generateMnemonic","computeKey","indexedDB","mozIndexedDB","webkitIndexedDB","msIndexedDB","IDBTransaction","webkitIDBTransaction","msIDBTransaction","IDBKeyRange","webkitIDBKeyRange","msIDBKeyRange","open","onerror","onsuccess","onupgradeneeded","db","objectStoreNames","deleteObjectStore","item","autoIncrement","os","createObjectStore","createIndex","unique","multiEntry","transaction","oncomplete","deleteDatabase","label","getTx","objectStore","input","getOS","act","onCursor","onData","openCursor","continue","catch","then","put","IDBuffer","pendingOps","activeFlush","errors","successes","total","EUserMode","EDeveloperMode","EPallette","enumDefObj","enumDefault","pubKeyConvertors","crypto","pubKeySyncCaches","pubKeyCachedConvertors","coin","btcToString","Boolean","captionIconMap","Bitcoin_Wallet","AccountBalanceWalletOutlinedIcon","Impact_Fund","EqualizerIcon","Settings","SettingsIcon","Progress","HourglassEmptyIcon","Unlock_wallet","LockOpenIcon","Create_wallet","AddCircleOutlineIcon","Log_in","VpnKeyIcon","Admin","SupervisorAccountIcon","formatTimestamp","date","make2Digit","year","month","day","hour","minute","second","hour12","Intl","DateTimeFormat","format","formatDate","captionMap","deposits","withdrawals","fundDepositAddresses","feeAddresses","_","cleanText","trim","Comp","sors","state","fers","initRefs","ren","props","spacedOutRefString","React","createRef","newV","childRef","current","updateChildRef","unmounted","onDone","setState","addSyncObserver","setStateKV","Component","Selector","selectedIx","onChanged","FormControl","component","RadioGroup","row","horizontal","aria-label","setSelectedIx","FormControlLabel","control","Radio","styles","visuallyHidden","border","clip","height","margin","overflow","padding","position","top","width","classes","THead","onSelectAllClick","order","orderBy","numSelected","rowCount","onRequestSort","TableHead","TableRow","checkable","TableCell","Checkbox","indeterminate","checked","inputProps","h","property","sortDirection","align","alignCaption","disablePadding","TableSortLabel","active","direction","onClick","event","caption","style","ListView","page","rowsPerPage","sortOrder","rows","_id","sortColumn","compare","comp","X","isChecked","isSelected","columnCount","prevRowsPerPage","offset","TableContainer","Box","Table","className","aria-labelledby","title","size","TableBody","hover","aria-checked","tabIndex","selected","displayFunc","TableFooter","TablePagination","colSpan","rowsPerPageOptions","onChangePage","onChangeRowsPerPage","round","floor","Sidebar","List","tabs","C","color","ListItem","button","tabulize","ListItemIcon","Typography","TabbedView","selectedTabIx","visibleTab","selTabIx","tabsControl","tabsProps","onChangeSelectedTabIx","TabsControl","Tabs","indicatorColor","textColor","centered","Tab","disabled","tabProps","activeTab","createElement","parentProps","verticalAlign","Button","variant","TabTimeline","tabbedView","last","ref","onCancel","getVisibleTab","validate","setPrecedingResult","bind","acceptText","vt","onAccept","ValidatableComp","TextField","helperText","borderSpacing","cells","cellStyles","formTable","form","preamble","noValidate","autoComplete","DialogWrap","Dialog","onClose","OpenDialogButton","GetPasswordView","walletName","fontSize","genTextField","GetPasswordDialog","ProgressDialog","CircularProgress","wrapEllipsisDiv","textOverflow","whiteSpace","aLink","src","link","rel","href","newTabRef","dataList","genHeaders","compareStrings","localeCompare","compareBNs","isLessThan","commonDataTypes","vinout","ethAddress","btcTx","btcSatoshis","commonTableHeaders","toBTC","fundDepositAddress","applyListHeaders","mods","extractHeaders","warning","textAlign","loadingComponent","dataSummary","DataDependentView","componentDidUpdate","prevP","updateInvestor","InvestorDependentView_Eth","addSyncKeyObserver","InvestorDependentView_Btc","retrieveInvestorWalletData","InvestorID","EthTxView","getInvestorData","Developer","display","InvestorList","onChangedSelectedInvestor","wallet","creds","Password","pub","openWallet","Wallet","lastLogin","Approve_actions_Form","actionName","propertyLabel","Approve_deposits_Form","Approve_withdrawals_Form","Approve_all_pending_deposits","Approve_all_pending_withdrawals","pendingWithdrawals","textField","generateForm","preambleText","aa","tf","changeDataForms","Owner","AUM","BtcPrice","RequestGas","Daily_change","Fees","Fund_deposit_address","Fee_address","adminSetters","_0","Investors","qEthTx","Change_data","toFixed","Pending_Deposits","deps","approveAll","withs","Queued_Eth_Transactions","progressDialogOpen","progressDialogTitle","performApproveWithCreds","getPrivateKey","signAndSubmitQueuedEthTransactions","getPwdDialogOpen","signAndSubmit","SeedView","setNewInitialWords","constructed","getKey","initialWords","wordList","setErrors","getWords","expectedWords","gotWords","Setup_password","Confirm_password","Enter_credentials","Backup_seed","words","seedView","Verify_seed","checkWordsEqual","Input_seed","sv","checkWordsInList","english","Seed_Login","Bitcoin_P2P_Network","Ethereum_P2P_Network","ethRPCUrl","Network","ProgressDependentView","displayDelay","lastUpdate","newProgress","currentTime","deltaS","update","updateTimeout","LinearProgress","timing","SimpleProgress","isLoaded","darkMode","matchMedia","matches","getMainLightness","fg","dm","getMainColor","basePallette","dark","backgroundColor","chart","valueSuffix","datas","constructorType","highcharts","Highcharts","rangeSelector","navigator","enabled","credits","zoomType","events","load","plotOptions","areaspline","fillColor","yAxis","labels","formatter","axis","defaultLabelFormatter","xAxis","aferSetExtremes","series","tooltip","timeDataTrafo","FundIndexChart","changePerc","iData","displayTrafo","aum","decimals","parfs","urlParams","_Withdraw_","Withdraw","Review","Done","investorCompIfTestMode","borderStyle","borderWidth","borderRadius","borderColor","History","walletData","getInvestorWalletData","selectedTx","Invest","qrCode","QRCode","ecl","container","xmlDeclaration","svg","dangerouslySetInnerHTML","__html","URL","getUrlParam","searchParams","ethInterfaceChanged","Cache","clearCache","clearTransactionCache","MainView","walletOperation","startWalletOp","walletCodecProgress","percent","AppBar","Toolbar","acceptLogIn","Paper","alt","asEthAddress","asPublicKey","runWhenDBInitialized","registerInvestorAddress","App","theme","createTheme","Default","Dark","isDark","document","createMuiTheme","palette","ThemeProvider","ReactDOM","render","StrictMode","getElementById","serviceWorker","ready","registration","unregister","console","message"],"mappings":"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","file":"static/js/main.78574c03.chunk.js","sourcesContent":["// Type-checking\nlet isA = Array.isArray;\nlet isF = f => typeof f === \"function\";\nlet isP = o => D(o.then) && isF(o.then);\nlet isO = o => typeof o === \"object\" && o != null && !isA(o);\nlet isS = s => typeof s === \"string\";\n\nlet A = Object.assign;\nlet B = (a, k, t) => { let r = {}; a.forEach(b => { let y = r[b[(t || I)(k)]]; if (y) { y.push(b); } else { r[b[(t || I)(k)]] = [b]; } }); return r; }\nlet D = x => typeof x !== \"undefined\";\nlet E = o => Object.entries(oO(o));\nlet F = Object.fromEntries; \nlet G = (o, f) => F(E(o).map(([k, v], i) => [k, f(v, k, i, o)]));\nlet GA = async (o, f) => F(await E(oO(o)).map(async ([k, v], i) => [k, await f(v, k, i, o)]));\nlet H = (f, o) => G(o, (v, k, i, o) => isO(v) ? H(f, v) : f(v, k, i, o));\nlet I = x => x;\nlet K = Object.keys;\nlet LL = x => { console.log(S(x)); return x; }\nlet L = x => {  if (process.env.NODE_ENV === \"development\") LL(x); return x; }\nlet P = (o, keys) => F(keys.map(k => [k, o[k]]));\nlet R = (msg, data) => A(new Error(msg), oO(data));\nlet S = JSON.stringify;\nlet T = s => oS(s).split(\" \");\nlet U = undefined;\nlet V = Object.values; \nlet W = async o => F(await Promise.all(E(o).map(async ([k, v]) => [k, await v])));\n\n// Optionals\nlet oA = a => a || [];\nlet oB = b => b || false;\nlet oF = f => f || (() => {});\nlet oO = o => o || {};\nlet oS = s => s || \"\"; \n\nlet asA = a => (b => isA(b) ? b : [b])(oA(a))\n\nlet singleKeyObject = (k, v) => { let o = {}; o[k] = v; return o; }\nlet makeEnum = soo => Object.freeze(F(T(soo).map(k => [k, k]))); \n\nexport { A, B, D, E, F, G, GA, H, I, K, L, LL, P, R, S, T, U, V, W, oA, oB, oO, oS, oF, isA, isO, isF, isS, isP, asA, singleKeyObject, makeEnum }","import { A, D, E, oA } from './tools.mjs';\n\nclass Observer {\n  constructor(observable, onChange, context, index) { A(this, { observable, onChange, context, index }); }\n  detach() { this.observable.remove(this); }\n}\n\nclass Observable {\n  constructor() { A(this, { observers: {}, observerIx: 0 }); }\n  watch(key, onChange, context) {\n    let obs = new Observer(this, onChange, context, this.observerIx++);\n    (this.observers[key] = oA(this.observers[key])).push(obs);\n    if (D(this.data[key])) obs.onChange(this.data[key], context);\n    return obs;\n  }\n  observe(key, data) { oA(this.observers[key]).forEach(o => o.onChange(data, o.context)); return data; }\n  remove(obs) {\n    if (D(this.observers[obs.index])) delete this.observers[obs.index];\n  }\n}\n\nclass SyncCache extends Observable {\n  constructor() { super(); A(this, { data: {} }); }\n  setData(key, data) { this.observe(key, this.data[key] = data); return data; } //  L(`syncCache.setData(${key}, ${S(data)})`);\n  getData(key, retriever) { return this.data[key] = (D(this.data[key]) ? this.data[key] : (retriever && this.observe(key, retriever()))); }\n  set(obj) { E(obj).forEach(([k, v]) => this.setData(k, v)); }\n}\n\nexport { SyncCache }","/* eslint no-unused-vars: 0 */\n/* eslint no-loop-func: 0 */\nimport amfeixCjson from '../amfeixC.json'; \n// eslint-disable-next-line\nimport { A, D, E, F, G, H, I, K, L, S, T, P, U, V, W, oA, oO, oF, oS, isO, isA, isS, singleKeyObject, makeEnum } from '../common/tools.mjs'; \nimport { IndexedDB } from './db'; \nimport { Persistent } from './persistent';\nimport { BN, ALPHABET }  from './bignumber';\nimport JSONBig from 'json-bigint'; \n//import Accounts from 'web3-eth-accounts';\n//import aggregate from './aggregate.js';\nimport { satoshiToBTCString } from './satoshi';\nimport { pubKeyToEthAddress, pubKeyToBtcAddress } from \"../common/pubKeyConvertor.mjs\";\nimport { SyncCache } from '../common/syncCache.mjs';\nimport { ETransactionType } from './enums.js';\nimport { amfx, amfeixAddress } from './amfeixContract';\nimport bs58check from 'bs58check'; \n\nlet newDB = false; // || true;   \n \nlet stati = { Deposits: makeEnum(\"Active Withdrawn Pending_Withdrawal\"), Pending_Withdrawals: makeEnum(\"Pending Processed\") }; \n\nlet anomalousInvestorIndexMap = F([2339, 74, 418, 419, 424, 464, 515, 3429, 515, 1061, 3428, 3429, 3437, 3438].map(i => [(i), true]));\n\nlet b64ToHex = v => Buffer.from(v, 'base64').toString('hex');\nlet hexToBtcAddress = v => bs58check.encode(Buffer.from(v, 'hex'));\nlet decodeFundDeposit = s => (([timestamp, amountX, transactionX, fromPubKeyX]) => { let fromPubKey = b64ToHex(fromPubKeyX);\n  return {timestamp, txId: b64ToHex(transactionX), fromPubKey, fromBtcAddress: pubKeyToBtcAddress(fromPubKey), satoshiBN: BN(b64ToHex(amountX), 16)}; } )(T(s)); \nlet decodeDeposit = s => (([timestamp, amountX, transactionX, fromBtcAddressX]) => {  \n  return {timestamp, txId: b64ToHex(transactionX), fromBtcAddress: fromBtcAddressX && bs58check.encode(Buffer.from(fromBtcAddressX, 'base64')), satoshiBN: BN(b64ToHex(amountX), 16)}; } )(T(s)); \n  \nlet hostname = window.location.hostname;\nlet amfeixUK  = \"amfeix.uk\";\nhostname = (hostname === \"localhost\") ? amfeixUK : hostname;\nconst btcRpcUrl = `https://btc.${amfeixUK}/`; //`http://157.245.35.34/`,  \nconst ethInterfaceUrl = `https://eth.${amfeixUK}/`; //\"ws://46.101.6.38/ws\";  \nconst ethInterfaceUrls = [ethInterfaceUrl, ethInterfaceUrl + 'ganache/']; //\"ws://46.101.6.38/ws\";  \n//ethInterfaceUrl = \"http://46.101.6.38:8547/\";  \n//const web3 =  new Web3(new Web3.providers.HttpProvider(\"https://mainnet.infura.io/v3/efc3fa619c294bc194161b66d8f3585e\"));\nlet amfeixFeeFields = T(\"fee1 fee2 fee3\");\nlet invMap = (countTable, dataTable) => ({countTable, dataTable}); \nlet amfeixAddressLists = [\"fundDepositAddresses\", \"feeAddresses\"];\nlet timeAndAmount = T(\"time amount\"), indexMaps = amfeixAddressLists, investorMaps = [invMap(\"ntx\", \"fundTx\"), invMap(\"rtx\", \"reqWD\")]; \nlet ethBasicFields = T(\"owner aum decimals btcPrice\").concat(amfeixFeeFields).concat(amfeixAddressLists.map(k => `${k}Length`));\nconst btcFields = T(\"blockcount connectioncount difficulty blockchaininfo\");\n\nlet btcRpc = async (method, func, params) => JSONBig.parse((await ((await fetch(`${btcRpcUrl}${func}/${method === \"GET\" && params ? `?${E(oO(params)).map(x => x.map(encodeURIComponent).join(\"=\")).join(\"&\")}` : ''}`, \n { method, mode: 'cors', headers: { \"content-type\": \"application/json\" }, ...(method === \"POST\" ? { body: S({params}) }: {}) })).text())));\n\nlet invMapDBStruc = ({countTable, dataTable}) => ({ ...singleKeyObject(countTable, struc([\"investorIx\"])), ...singleKeyObject(dataTable, struc([\"investorIx\", \"index\"], [[\"investorIx\", \"investorIx\", false]])) })\n \nexport let tableStrucMap = {}\nlet hierName = (o, p) => F(E(o).map(([k, v]) => { let q = p ? [p, k].join(\"-\") : k; return [k, isA(v) ? (tableStrucMap[q] = {...v[0], table: q}, q) : hierName(v, q)]; }));\nlet struc = (keyPath, indices) => [{ keyPath, indices }];\nlet tables = hierName({ \n  eth: { constants: struc([\"name\"], [[\"name\", \"name\", true]]),  ...invMapDBStruc(investorMaps[0]), ...invMapDBStruc(investorMaps[1]), \n  ...F(T(\"time amount\").concat(indexMaps).map(k => [k, struc([\"index\"])])), investorsAddresses: struc([\"index\"], [[\"data\", \"data\", true]])  }, \n  btc: { constants: struc([\"name\"], [[\"name\", \"name\", true]]), ...invMapDBStruc(investorMaps[0]), ...invMapDBStruc(investorMaps[1]) },\n  queue: { ethTransactions: struc([\"index\"]) }\n}); \n\nlet constantFields = { btc: btcFields, eth: ethBasicFields };\nlet constantRetrievers = { \n  btc: name => async () => ({ name, value: await btcRpc(\"GET\", `get${name}`) }),\n  eth: name => async () => ({ name, value: await amfx.amfeixM()[name]().call() })\n} \n\nlet timeFunc = async f => {\n  let startTime = Date.now();\n  let result = await f();\n  return { result, time: Date.now() - startTime };\n}\n \nlet getInvestorDataKey = investor => `investor_${investor.data}`;\nlet getInvestorWalletDataKey = investor => `investor_Wallet_${investor.btcAddress}`; \n\nclass Transaction { constructor(method, parms) { A(this, { method, parms }); } }\n\nclass Scheduler {\n  constructor(interval, onUpdate) {\n    this.intervalHandle = setInterval(async () => { await onUpdate(); this.lastUpdate = Date.now(); }, interval);\n  }\n}\n\nlet fetchDeposits = async (fromPubKey, toAddr) => L(oA(oO(await btcRpc(\"GET\", L(`getdeposits/toAddress/${toAddr || '_'}/fromPublicKey/${fromPubKey || '_'}`))).data).map(decodeDeposit));\n\nclass Data extends Persistent {\n  constructor() { super(\"data\", [\"localData\"], { localData: { dbix: 1173 } }); L('Creating Data class instance.');\n    //this.localData = (d => d ? L(JSON.parse(d)) : { dbix: 60 })((localStorage.getItem(\"_\")));\n    if (newDB) this.localData.dbix++; \n    A(this, { tables, tableStrucMap, investorData: {}, observers: {}, data: {}, loadProgress: { progress: {}, timings: {} }, syncCache: new SyncCache(), idb: new IndexedDB(S(this.localData.dbix)), adminLoadInitiated: false, queuedEthTransactions: [] }); \n    for (let q = 0; q < this.localData.dbix; ++q) this.idb.deleteDB(S(q));\n    this.persist(); \n     \n    this.setEthRPCUrl(ethInterfaceUrl); \n    this.onLoadProgress = name => d => { this.loadProgress.progress[name] = d; this.syncCache.setData(\"loadProgress\", this.loadProgress); };\n    this.onGlobalLoad = (step, length, done) => this.updateLoadProgress(this.onLoadProgress(\"Loading...\"), step, length || 7, done);\n    this.updateConstants = F(E(constantFields).map(([t, f]) => [t, () => this.measureTime(`Constants (${t})`, async () => await Promise.all(f.map(async name => { \n      let result = await constantRetrievers[t](name)();\n      this.syncCache.setData(name, result.value); \n      await this.setData(tables[t].constants, (result));\n    })))]));\n    this.updateConstants.eth = () => this.measureTime(`Constants (eth)`, async () => { \n      let buf = this.idb.newBuffer();\n      constantFields.eth.forEach(name => amfx.queueOp(name, [], value => { this.syncCache.setData(name, value); buf.write(tables.eth.constants, { name, value }); }, err => L(`Eth constant retrieval error ${S(err)}`))); \n      await amfx.flushBatch(); await buf.flush();\n    });\n    \n    this.functionsToPerformAfterBasicLoad = [];\n    this.functionsToPerformAfterGenericLoad = [];\n\n    (async () => { await this.idb.init(); this.syncCache.setData(\"dbInitialized\", true); await this.genericLoad(); })(); \n  }\n\n  set queuedEthTransactions(a) { this.syncCache.setData(\"queuedEthTransactions\", a); }\n  get queuedEthTransactions() { return this.syncCache.getData(\"queuedEthTransactions\"); }\n\n  async signAndSubmitQueuedEthTransactions(privateKey, testMode) { await this.measureTime(\"Basic Load\", async () => {\n    let from = \"0xADBfBEd800B49f84732F6D95fF5C924173C2C06A\";\n    L(`Generating ${this.queuedEthTransactions.length} transactions...`);\n    L({privateKey});\n    testMode = true;\n    L({accounts: await amfx.web3.eth.personal.getAccounts()})\n    let account = amfx.web3.eth.accounts.privateKeyToAccount(privateKey); \n    this.queuedEthTransactions = await Promise.all(this.queuedEthTransactions.map(async t => {\n      L(`Pending tx: ${S(t)}`);\n      let u = amfx.amfeixM()[t.method](...t.parms); \n//      L(`u = ${S(u)}`);\n      let options = L({from, to: amfeixAddress, gas: Math.max(25000, await u.estimateGas({ from, to: amfeixAddress })), data: u.encodeABI() });\n      let z = await amfx.web3.eth.sendTransaction(options); L(`Sendtransaction result = ${S(z)}`); \n//      let x = await account.signTransaction(options); L(`Signed tx: ${S(x)}`);\n  //    let z = await w3.web3.eth.sendSignedTransaction(x.rawTransaction); L(`Submitted tx: ${S(z)}`);\n      return ({ ...t, ...P(z, T(\"gasUsed blockNumber transactionHash\")), status: z.status === true ? \"Submitted\" : \"Failed\" });\n    })); \n  })}\n\n  runWhenDBInitialized(f) { let obs = this.syncCache.watch(\"dbInitialized\", () => { f(); obs.detach(); }) }\n\n  async updateFixedLengthArray(name) { await this.measureTime(`Update '${name}' array`, () => this.updateArray(name, `${name}Length`)) }\n\n  async basicLoad() { await this.measureTime(\"Basic Load\", async () => { this.onGlobalLoad(0);\n    await Promise.all([this.loadTimeData(), ...V(this.updateConstants).map(x => x()), ...indexMaps.map(l => this.updateFixedLengthArray(l))]); this.onGlobalLoad(1); L('L1');\n    await this.updateSyncCache(); this.onGlobalLoad(2); L('L2');\n    await this.computeTimeDataFromTimeAndAmount(); this.onGlobalLoad(3); L('L3');\n    for (let q of oA(this.functionsToPerformAfterBasicLoad)) await q();\n  }); }\n\n  performAfterBasicLoad(f) { this.functionsToPerformAfterBasicLoad.push(f); }\n  performAfterGenericLoad(f) { this.functionsToPerformAfterGenericLoad.push(f); }\n\n  async updateSyncCache() { await this.measureTime(\"updateSyncCache\", () => Promise.all(T(\"investorsAddresses\").map(async t => this.syncCache.setData(t, (await this.idb.getAll(tables.eth[t])))))); } \n \n  async updateRegisteredEthTransactions() { await this.measureTime(\"Update Registered Eth Transactions\", async () => {\n    await Promise.all(investorMaps.map(m => this.updateInvestorMappedArray(this.onLoadProgress(`Smart contract registered transactions: ${m.dataTable}`), m))); \n  }); }\n  async updateRegisteredBtcTransactions() { await this.measureTime(\"Update Registered Btc Transactions\", async () => {\n    let fundDeposits = this.syncCache.getData(\"fundDeposits\");\n    let fundDepositObj = F(fundDeposits.flat().map(x => [x.txId, x]));\n    await Promise.all(investorMaps.map(m => this.updateBitcoinTxs(this.onLoadProgress(`Bitcoin transactions: ${m.dataTable}`), m, fundDepositObj))); \n  }); }\n\n//  async updateInvestorAddresses() { await this.measureTime(\"Update Investor Addresses\", async () => { await this.updateArray(\"investorsAddresses\"); }); }\n\n  async genericLoad() { await this.measureTime(\"Generic Load\", async () => {\n    await this.basicLoad(); \n    await this.updateInvestorsAddresses(this.onLoadProgress(`Update investors addresses`)); this.onGlobalLoad(4);\n    await Promise.all([this.updateRegisteredEthTransactions(), this.fetchFundDeposits()]); this.onGlobalLoad(5);\n    await this.updateRegisteredBtcTransactions(); this.onGlobalLoad(6);\n    await this.computeData(); this.onGlobalLoad(7, 7, true);\n    for (let q of oA(this.functionsToPerformAfterGenericLoad)) await q();\n  }); } \n\n  async registerInvestorAddress(address) {  \n    let investorsAddresses = await amfx.amfeixM().getAllInvestors().call();\n    let index = investorsAddresses.map(x => x.toLowerCase()).indexOf(address.toLowerCase());\n    if (index >= 0) { let investor = { index, data: address }; L(`inv = ${S(investor)}`)\n      await this.setData(tables.eth.investorsAddresses, investor);\n      await Promise.all(investorMaps.map(m => this.updateInvestorArray(investor, m))); \n      await this.updateSyncCache();\n      await this.updateRegisteredTransactions();\n      await this.computeData();\n      return investor;\n    } \n  }\nf\n  setEthRPCUrl(newRPCUrl) { //L(`nweRPCURL: ${newRPCUrl}`)\n    amfx.setWeb3Url(newRPCUrl);\n    this.syncCache.setData(\"ethRPCUrl\", newRPCUrl);\n//    (async() => L(`Personal accounts: ${S(await oF(oO(w3.web3.eth.personal).getAccounts)())}`))();\n  }\n\n  getFundDepositAddresses() { return L(this.syncCache.getData(\"fundDepositAddresses\")).map(x => x.data).filter(z => z.length > 0); }\n  getFundDepositPubKeys() { return [\"03f1da9523bf0936bfe1fed5cd34921e94a78cac1ea4cfd36b716e440fb8de90aa\"]; }\n\n  async fetchFundDeposits() { this.syncCache.set({ fundDeposits: await Promise.all(this.getFundDepositAddresses().map(a => fetchDeposits(U, a))) }); };\n\n  async retrieveInvestorWalletData(investor) { L({investor}); if (investor.btcAddress) {\n    let key = getInvestorWalletDataKey(investor);\n    let cached = await this.syncCache.getData(key);\n    if (D(cached)) return cached;  \n    \n    let sum = a => a.reduce((acc, v) => acc.plus(v.delta), BN(0));\n    let getTxs = async address => oA(oO(await btcRpc(\"GET\", L(`gettxs/address/${address}`))).data).map(tx => {\n      let ioMap = a => a.map(x => ({ delta: BN(x.value, 10), btcAddress: hexToBtcAddress(x.addr) })), uniqueAddrs = a => K(F(a.map(x => [oS(x.btcAddress), true])));\n      let ins = ioMap(tx.ins), outs = ioMap(tx.outs), froms = uniqueAddrs(ins), tos = uniqueAddrs(outs); \n      let isInvestment = tos.some(a => this.getFundDepositAddresses().includes(a));\n//      L({tos, isInvestment, fda: this.getFundDepositAddresses()});\n      let fromBTC = froms.length === 1 ? froms[0] : U;\n      let filteredTos = tos.filter(s => s !== fromBTC);\n      let toBTC = filteredTos.length === 1 ? filteredTos[0] : U;\n      let filteredSum = a => sum(a.filter(x => x.btcAddress === investor.btcAddress));\n      let delta = filteredSum(outs).minus(filteredSum(ins));\n      let fee = sum(ins).minus(sum(outs));\n      return {...P(tx, T(\"time txId\")), ins, outs, delta, fee, type: isInvestment ? ETransactionType.Investment : ((delta < 0) ? ETransactionType.Outgoing : ETransactionType.Incoming) };\n    });\n    let txs = (await getTxs(investor.btcAddress));\n\n    return this.syncCache.setData(key, L({ finalBalance: sum(txs), txs })); \n  } }\n\n  getDecimals() { return this.syncCache.getData('decimals'); } \n  getFactor() { return BN(10).pow(this.getDecimals()); } \n\n  async computeTimeDataFromTimeAndAmount() { await this.measureTime(\"Fund Index chart computation\", async () => {  \n    let f = this.getFactor(), ff = f.times(100), performance = [], [time, amount] = T(\"time amount\").map(t => (this.syncCache.getData(t))).map(y => (y).map(x => x.data));  \n    for (let x = 0, acc = BN(1.0); x < amount.length; ++x) performance.push([time[x], acc = acc.times(ff.plus(BN(amount[x])).div(ff))]);  \n    let timeData = performance.map(([t, d]) => [1000*t, parseFloat(d.toString())]);\n    E(({ timeData, roi: (100*timeData[timeData.length - 1][1] - 100), dailyChange: parseFloat((BN(amount[amount.length - 1]).div(f)).toString()) })).forEach(([k, v]) => this.syncCache.setData(k, v));\n    this.performance = performance;\n  }); }\n\n  getPerformanceIndex(time, lowIndex, highIndex) { let p = this.performance, low = lowIndex || 0, high = highIndex || (p.length - 1); // L(`gpi(${time}, ${low}, ${high})`)\n    while (high > low) { let m = low + ((high - low) >> 1); if (p[m][0] > time) { high = m; } else if (low < m) { low = m; } else break; }\n    return high;\n  }\n\n  async loadTimeData() { await this.measureTime(\"Fund Index chart data\", async () => {\n    let onLoadProgress = this.onLoadProgress(\"Fund Index chart data\");\n    let countKey = name => ({ name: `${name}.counts` });\n    let sIx = async name => oO(await this.getData(tables.eth.constants, countKey(name))).startIndex || 0;\n    let length;\n    if ((await sIx(\"time\") === 0) && (await sIx(\"amount\") === 0)) { await this.measureTime(\"Fund Index chart data (single step)\", async () => {\n      let buf = this.idb.newBuffer();\n      this.updateLoadProgress(onLoadProgress, 0);\n      let timeData = await amfx.amfeixM().getAll().call();\n      length = timeData[0].length;\n      for (let index = 0; index < length; ++index) [\"time\", \"amount\"].forEach((t, i) => buf.write(tables.eth[t], { index, data: (i === 0 ? parseInt : I)(timeData[i][index]) }));\n      [\"time\", \"amount\"].forEach(name => buf.write(tables.eth.constants, {...countKey(name), startIndex: length }));\n      let result = await buf.flush();\n      this.updateLoadProgress(onLoadProgress, length, length, true);\n      timeAndAmount.forEach((t, i) => this.syncCache.setData(t, timeData[i].map((data, index) => ({ index, data }))));\n    }) } else { await Promise.all(timeAndAmount.map(l => this.updateArray(l))); }\n  }); }\n\n  async updateInvestorsAddresses(onLoadProgress) { await this.measureTime(\"Investors addresses\", async () => await this.updateArray(\"investorsAddresses\")); }\n\n  updateLoadProgress(onLoadProgress, index, length, done) { onLoadProgress({ index, length: D(length) ? length : (done ? index : \"unknown\") }); }\n\n  async updateGenericArray(onLoadProgress, name, { length, startIndex }, countKey, countTable, dataTable, parms, buf, w3Batcher) {\n    if (onLoadProgress) this.updateLoadProgress(onLoadProgress, startIndex, length);\n    let index = startIndex || 0;\n    let localBuf = buf || this.idb.newBuffer();\n    let masterKeys = F(oA(tableStrucMap[dataTable].keyPath).map(k => [k, countKey[k]]));\n    let final = async (resolve) => { //L('final');\n      localBuf.write(countTable, ({ ...countKey, startIndex: length, length })); //L('I'); \n      if (!D(buf)) await localBuf.flush();\n      if (onLoadProgress) this.updateLoadProgress(onLoadProgress, length, length, true);\n      resolve();\n    } \n    return new Promise(async (resolve, reject) => { try {\n      let w3b = w3Batcher || amfx;\n      let completed = 0;\n      if (index === length) await final(resolve);\n      while ((index < length)) { let currentIx = index++; \n        w3b.queueOp(name, [...oA(parms), currentIx], async data => {\n          localBuf.write(dataTable, ({ ...masterKeys, index: currentIx, data })); //L('D');\n          if (onLoadProgress) this.updateLoadProgress(onLoadProgress, completed, length);\n          if (++completed === length - startIndex) { await final(resolve); }\n        }, err => { L(`Error in '${name}' array update: ${S(err)}`) });  \n      }\n      if (!D(w3Batcher)) { await amfx.flushBatch(); }\n    } catch(err) { reject(err) } }); \n  }\n\n  async findArrayLength(arrayName, parms) {  \n    let exceedsLength = async l => { try {//L(`Processing item ${index} for ${name} (${dataTable}) with parms = ${S(parms)}`);\n      let data = await (amfx.amfeixM()[arrayName](...oA(parms), l).call()); //L('C');\n      if (isS(data) && data.length === 0) throw new Error(`Empty response for ${arrayName}(${parms})`);\n    } catch { return true; } }\n    let l = 1;\n    while ((l < (1 << 52)) && !await exceedsLength(l)) { l <<= 1; }\n    let low = l >> 1, high = l;\n    while (high > low) { let m = low + ((high - low) >> 1); if (await exceedsLength(m)) { high = m; } else if (low < m) { low = m; } else break; }\n    L(`Found length ${high} for array ${arrayName}`);\n    return high;\n  }\n\n  async updateArray(arrayName, lengthName, parms) { \n    let olp = this.onLoadProgress(`Update '${arrayName}' array`);\n    await this.measureTime(`Update '${arrayName}' array`, async () => { L(`update array ${arrayName}`);\n      let countKey = ({ name: lengthName || `${arrayName}.counts` }); \n      let alsi = (await this.getArrayLengthAndStartIndex(tables.eth.constants, countKey, lengthName, parms)); \n      if (D(alsi.value) && !D(alsi.length)) alsi.length = parseInt(alsi.value);\n      if (!D(alsi.length)) alsi.length = await this.findArrayLength(arrayName, parms);\n      let p = await this.updateGenericArray(olp, arrayName, alsi, countKey, tables.eth.constants, tables.eth[arrayName], parms);//, U, U, () => dp.resolve());\n      await amfx.flushBatch(); await p;\n    });\n    await this.measureTime(`Cache '${arrayName}' array`, async () => this.syncCache.setData(arrayName, (await this.idb.getAll(tables.eth[arrayName]))));  \n  } \n\n  async getArrayLengthAndStartIndex(countTable, countKey, lengthName, parms) { //L(`galsi(${countTable}, ${S(countKey)}, ${lengthName}, ${parms})`)\n    let alsi = oO(await this.getData(countTable, countKey, lengthName && (async () => ({ ...countKey, length: parseInt(await amfx.amfeixM()[lengthName](...oA(parms)).call()) }))));\n//    this.updateLoadProgress(onLoadProgress, alsi.startIndex, alsi.length);\n    //L(`galsi(${countTable}, ${S(countKey)}, ${lengthName}, ${parms}) ==> ${S({ alsi })}`) \n    return ({ startIndex: 0, ...alsi });\n  } \n\n  updateInvestorArray(investor, { countTable, dataTable }, buf, w3Batcher) { \n    let countKey = { investorIx: investor.index }, parms = [investor.data]; \n    return new Promise(async (resolve, reject) => { try {\n      w3Batcher.queueOp(countTable, parms, async length => {\n        resolve(await this.updateGenericArray(U, dataTable, { startIndex: 0, length: parseInt(length) }, countKey, tables.eth[countTable], tables.eth[dataTable], parms, buf, w3Batcher));\n      }, err => L(`Error while getting array length for '${countTable}-${dataTable}' for investor ${investor.data}: ${S(err)}`));\n    } catch(err) { reject(err); } }); //L(`uima ${dataTable} final`);\n  }\n\n  async updateInvestorMappedArray(onLoadProgress, { countTable, dataTable }) { await this.measureTime(`Update invsetor mapped array '${dataTable}'`, async () => {\n    L(`uima(${countTable}, ${dataTable})`);\n    let olp = onLoadProgress;\n    let { startIndex, length, investorMapCountKey } = await this.getInvestorMapUpdateCountData(countTable, dataTable, `eth`);\n    let ix = startIndex;\n    let investors = this.syncCache.getData(\"investorsAddresses\"); \n    length = investors.length;\n    let localBuf = this.idb.newBuffer();\n    let completed = 0;\n    let p = Promise.resolve();\n    while (ix < length) { let q = p;\n      let r = this.updateInvestorArray(investors[ix++], { countTable, dataTable }, localBuf, amfx);\n      p = (async () => { await q; await await r; this.updateLoadProgress(olp, ++completed, length); })();\n    };\n    await amfx.flushBatch(); await p;\n    this.updateLoadProgress(olp, ix, length);\n    await amfx.flushBatch(); L(`uima ${dataTable} local buf flush`);\n    await localBuf.flush(); L(`uima ${dataTable} local buf done`);\n    if (ix !== startIndex) await this.setData(tables.eth.constants, ({...investorMapCountKey, startIndex: ix }));\n    L(`uima(${countTable}, ${dataTable}) end`);\n  }); }\n\n  async getInvestorMapUpdateCountData(countTable, dataTable, type, lengthTable) {\n    let investorMapCountKey = { name: `${countTable}-${dataTable}.counts` };\n    let length = lengthTable && await this.idb.count(lengthTable);\n    let startIndex = oO(await this.getData(tables[type].constants, investorMapCountKey)).startIndex || 0;\n    return { startIndex, length, investorMapCountKey, index: startIndex };\n  }\n\n  async updateBitcoinTxs(onLoadProgress, { countTable, dataTable }, fundDepositObj) { //L(`uima(${name}, ${countTable}, ${dataTable})`);\n    let { index, length, investorMapCountKey } = await this.getInvestorMapUpdateCountData(countTable, dataTable, `btc`, tables.eth[dataTable]);\n    let buf = this.idb.newBuffer();\n    for (let d of (await this.idb.getAll(tables.eth[dataTable])).slice(index)) { let key = { investorIx: d.investorIx, index: d.index };\n      let fd = fundDepositObj[d.data[0]];\n//      L({fd})\n      if (D(fd)) { buf.write(tables.btc[dataTable], {...key, value: fd.satoshiBN.toString(ALPHABET.length) }); }\n      else { L(`Bitcin fund deposit not found for ${d.data[0]}`); }\n      buf.write(tables.btc.constants, { ...investorMapCountKey, startIndex: ++index });\n      this.updateLoadProgress(onLoadProgress, index, length);\n    }\n    await buf.flush();\n    this.updateLoadProgress(onLoadProgress, length, length, true);\n  }\n\n  async clearTransactionCache(t) { await Promise.all([\n    ...T(\"ntx fundTx rtx reqWD\").map(z => this.idb.clear(tables[t][z])),\n    ...T(\"ntx-fundTx rtx-reqWD\").map(z => this.idb.write(tables[t].constants, { name: `${z}.counts`, startIndex: 0 }))\n  ]); }  \n\n  async clearCache() { await Promise.all(K(tables).map(t => K(tables[t]).map(z => tables[t][z])).flat().map(n => this.idb.clear(n))); }\n\n  getKey(table, data) { return (`${table}${isO(data) ? `:[${tableStrucMap[table].keyPath.map(a => data[a]).join(\",\")}]` : ''}`) }\n\n  async setData(table, data) { return await this.idb.write(table, data); }\n  async getData(table, data, retriever) { return (await this.idb.get(table, data)) || (retriever && (await this.setData(table, await retriever()))); } \n\n  async measureTime(name, promise) { this.loadProgress.timings[name] = (await timeFunc(promise)).time; } \n\n  async computeData() { await this.measureTime(\"computeData\", async () => {\n    let investors = [], approvedDeposits = {}, fundDeposits = this.syncCache.getData(\"fundDeposits\"); \n    let investorsAddresses = this.syncCache.getData(\"investorsAddresses\"); let olp = this.onLoadProgress(\"Computing data structures\");  \n    let d = await Promise.all(investorMaps.map(async im => await Promise.all(['eth', 'btc'].map(t => this.idb.getAll(tables[t][im.dataTable])))));\n    let e = d.map(im => im.map(x => F(x.map(z => [z.investorIx, []]))));\n    d.forEach((im, a) => im.forEach((x, b) => x.forEach(z => { e[a][b][z.investorIx].push(z); } ))); \n    for (let ix = 0; ix < investorsAddresses.length; ++ix) { this.updateLoadProgress(olp, ix, investorsAddresses.length);\n      let investor = await this.retrieveInvestorData(investorsAddresses[ix], U, e); \n      let i = { index: investorsAddresses[ix].index, address: investorsAddresses[ix].data, investmentValue: investor.investmentValue, Pending_Withdrawals: investor.Pending_Withdrawals };\n      investors.push(i);\n      investor.Deposits.forEach(d => { approvedDeposits[d.txId] = true; });\n    }   \n//    this.syncCache.set({ investorsAddresses }); \n//    L({ investors: investorsAddresses.map(i => P(i, T(\"pubKey btcAddress\"))) });\n    this.syncCache.set({ investors, withdrawalRequests: investors.map(i => i.Pending_Withdrawals).flat(), pendingDeposits: G(fundDeposits, v => v.filter(d => !approvedDeposits[d.txId])) });  \n    this.updateLoadProgress(olp, investorsAddresses.length, investorsAddresses.length);\n  }); };\n\n  async retrieveInvestorData(investor, lengths, allData) { //L(`retrieveInvestorData = ${S(investor)}`);\n    let cached = this.syncCache.getData(getInvestorDataKey(investor));\n    if (cached) { L('cached'); return cached; }\n    if (!D(investor.index)) { L({investor});\n      L(`finding index for investor.data = ${investor.data}`);\n      let i = await this.idb.get(tables.eth.investorsAddresses, { data: investor.data }, \"data\", [\"data\"]);\n      investor.index = oO(i).index;\n      L(`returned ${S(i)}`)\n    }\n    let invKey = { investorIx: investor.index }; //L(`Retrieving investor ${investor} data`);\n//    L(`invKey = ${S(invKey)}`);\n    let ethDataMap = ([txId, pubKey, signature, action, timestamp]) => ({ timestamp: parseInt(oS(timestamp)), txId, pubKey, signature, action });\n    let dataMaps = { eth: x => ({index: x.index, ...ethDataMap(((x.data)))}), btc: x => ({index: x.index, value: BN(x.value, ALPHABET.length) }) }\n    let txs, reqWD;\n//    L(`getting data for investor ${investor.index}`);\n    if (D(allData)) {\n      [txs, reqWD] = allData.map((im, j) => {\n//        L({im});\n        let [e, b] = ['eth', 'btc'].map((t, z) => (oA(im[z][invKey.investorIx])).map(oO).map(dataMaps[t]));\n        for (let index = 0; index < Math.min(e.length, b.length); ++index) e[index].value = b[index].value;\n        return (e);\n//        process.exit();\n      });\n    } else {\n      let getList = async (m, j) => {  \n        let fastLength = (oO(oA(lengths)[j]))[(invKey.investorIx)];\n        let length = D(fastLength) ? (fastLength) : ((oO(await this.idb.get((tables.eth[(m).countTable]), (invKey)))).length || 0);\n        let [e, b] = await Promise.all(['eth', 'btc'].map(async t => {             \n          let buf = this.idb.newBuffer();\n          let r  = []; \n          for (let index = 0; index < length; ++index) { r.push(U); buf.get(tables[t][m.dataTable], ({...invKey, index}), d => { r[index] = d; }); }\n          await buf.flush(); \n          return r.map(oO).map(dataMaps[t]);\n        }));\n        for (let index = 0; index < length; ++index) e[index].value = b[index].value;\n        return (e);\n      };\n      [txs, reqWD] = await Promise.all(investorMaps.map(getList));\n    }\n\n    let toObj = a => F(a.map(e => [e.txId, e]));\n    let dedup = d => V(toObj(d)); // XXX: does not check if duplicates are identical -- only retains one of them with same txId   \n    investor.pubKey = oO(oA(txs)[0]).pubKey;\n    \n    let data = F([\"Deposits\", \"Withdrawals\"].map((k, i) => [k, dedup(txs.filter(x => x.action === S(i)))]));\n    data.Pending_Withdrawals = dedup(reqWD);\n    let objs = G(data, toObj);\n    let txIdMap = G(objs, v => x => (v[x.txId]));  \n    let has = G(txIdMap, v => x => D(x));  \n    let g = ({ \n      Deposits: data.Deposits, \n      Pending_Withdrawals: data.Pending_Withdrawals.filter(x => has.Deposits(x) && !has.Withdrawals(x)), \n      Withdrawals: data.Withdrawals.filter(x => has.Deposits(x) && has.Pending_Withdrawals(x)) \n    });\n\n    g.investment = g.Deposits.concat(g.Withdrawals).sort((a, b) => a.timestamp - b.timestamp); \n    let currentValueAcc = BN(0); \n    let isDeposit = i => i.action === \"0\";\n    for (let d of g.Deposits) { d.status = ((has.Withdrawals(d)) ? stati.Deposits.Withdrawn : (has.Pending_Withdrawals(d) ? stati.Deposits.Pending_Withdrawal : stati.Deposits.Active));\n      let endTimestamp = (oO(objs.Pending_Withdrawals[d.txId]) || oO(objs.Withdrawals[d.txId])).timestamp || 0;\n      let endIx = (d.status === stati.Deposits.Active) ? this.performance.length - 1 : this.getPerformanceIndex(endTimestamp);\n      let startIx = this.getPerformanceIndex(d.timestamp), startPerf = this.performance[startIx];\n      let endPerf = this.performance[endIx][1];\n      let appliedPerf = (startPerf[0] >= d.timestamp) ? startPerf[1] : endPerf; \n      d.depositedValue = d.value;\n      d.currentValue = (appliedPerf.isZero() || !D(d.value)) ? U : d.value.times(endPerf.div(appliedPerf));\n      d.satoshiBN = d.value = d.currentValue;\n      d.hasWithdrawalRequest = has.Pending_Withdrawals(d);\n      d.hasWithdrawal = has.Withdrawals(d);\n    } \n    for (let w of g.Withdrawals) A(w, P(txIdMap.Deposits(w), T(\"depositedValue currentValue\"))); \n    for (let wr of g.Pending_Withdrawals) wr.status = has.Withdrawals(wr) ? stati.Pending_Withdrawals.Processed : stati.Pending_Withdrawals.Pending;\n    for (let i of g.investment) i.accCurrentValue = (currentValueAcc = D(currentValueAcc) && D(i.currentValue) ? currentValueAcc[isDeposit(i) ? \"plus\" : \"minus\"](i.currentValue) : U); \n    g.investmentValue = currentValueAcc;\n    g.valueSeries = () => g.computedValues = g.computedValues || g.investment.map(x => [1000*x.timestamp, parseFloat(x.accCurrentValue && satoshiToBTCString(x.accCurrentValue))]); \n    L(P(g, T(\"investmentValue\")));\n    return this.syncCache.setData(getInvestorDataKey(investor), g);\n  }\n\n  async checkConsistency(investor) {\n    try {\n      investor.derivedEthAddress = pubKeyToEthAddress(investor.pubKey, true); \n      investor.btcAddress = pubKeyToBtcAddress(investor.pubKey);   \n      investor.anomalous = anomalousInvestorIndexMap[investor.index] ? \"Yes\" : \"No\";\n      if (investor.derivedEthAddress.toLowerCase() !== investor.data.toLowerCase()) L(`Investor (${investor.index}): Address discrepancy ${investor.data} !== ${investor.derivedEthAddress}`)\n    } catch (err) { investor.pubKeys = []; investor.error = \"Yes\"; investor.anomalous = \"Yes\"; } \n  }\n\n  getInvestorData(investor) { return this.investorData[investor] = D(this.investorData[investor]) ? this.investorData[investor] : this.retrieveInvestorData(investor); }\n}\n\nL(`032b54175dac49b86d33528488dc1770223be678fe9e283ff210d6841f109230c7 ==> ${S({btc: pubKeyToBtcAddress(\"032b54175dac49b86d33528488dc1770223be678fe9e283ff210d6841f109230c7\"),\neth: pubKeyToEthAddress(\"032b54175dac49b86d33528488dc1770223be678fe9e283ff210d6841f109230c7\")})}`)\n\nlet data = new Data(); \n  \nexport { Transaction, stati, ethInterfaceUrls, btcRpcUrl, btcFields, ethBasicFields, getInvestorDataKey, getInvestorWalletDataKey, data, amfeixFeeFields, amfeixAddressLists };","// eslint-disable-next-line\nimport { A, L, P, S, oO } from '../common/tools.mjs'\n\nexport class Persistent {\n  constructor(persistanceKey, storedFieldNames, defaults) {\n    A(this, { persistanceKey, storedFieldNames })\n    A(this, (d => d ? A(oO(defaults), P(JSON.parse(d), this.storedFieldNames)) : oO(defaults))((localStorage.getItem(this.persistanceKey))));\n    //L(`Loaded ${persistanceKey}: ${S(P(this, L(this.storedFieldNames)))}`)\n  }\n\n  persist() { \n    localStorage.setItem(this.persistanceKey, S(P(this, this.storedFieldNames))); \n  }\n}","import { BigNumber } from 'bignumber.js'\n\nlet ALPHABET = '0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ$@';\n\nBigNumber.config({ ALPHABET }); //DECIMAL_PLACES: 20 });\n\nlet BN = (v, b) => new BigNumber(v ,b);\n//let bnClone = d => BigNumber.clone(d);\n\nexport { BN, ALPHABET }","import fetch from 'cross-fetch';\nimport { defaultAbiCoder } from 'ethers/utils/abi-coder';\nimport debug from 'debug';\nconst log = debug('multicall');\n\n// Function signature for: aggregate((address,bytes)[])\nexport const AGGREGATE_SELECTOR = '0x252dba42';\n\nexport function strip0x(str) {\n  return str.replace(/^0x/, '');\n}\n\nexport function typesLength(types) {\n  return types.length;\n}\n\nexport function encodeParameter(type, val) {\n  return encodeParameters([type], [val]);\n}\n\nexport function encodeParameters(types, vals) {\n  return defaultAbiCoder.encode(types, vals);\n}\n\nexport function decodeParameter(type, val) {\n  return decodeParameters([type], val);\n}\n\nexport function decodeParameters(types, vals) {\n  return defaultAbiCoder.decode(types, '0x' + vals.replace(/0x/i, ''));\n}\n\nexport function padLeft(string, chars, sign) {\n  var hasPrefix = /^0x/i.test(string) || typeof string === 'number';\n  string = string.toString(16).replace(/^0x/i, '');\n  var padding = chars - string.length + 1 >= 0 ? chars - string.length + 1 : 0;\n  return (\n    (hasPrefix ? '0x' : '') +\n    new Array(padding).join(sign ? sign : '0') +\n    string\n  );\n}\n\nexport function padRight(string, chars, sign) {\n  var hasPrefix = /^0x/i.test(string) || typeof string === 'number';\n  string = string.toString(16).replace(/^0x/i, '');\n  var padding = chars - string.length + 1 >= 0 ? chars - string.length + 1 : 0;\n  return (\n    (hasPrefix ? '0x' : '') +\n    string +\n    new Array(padding).join(sign ? sign : '0')\n  );\n}\n\nexport function isEmpty(obj) {\n  if (Array.isArray(obj)) return obj.length === 0;\n  return !obj || Object.keys(obj).length === 0;\n}\n\nexport async function ethCall(rawData, { id, web3, rpcUrl, block, multicallAddress, ws, wsResponseTimeout }) {\n  const abiEncodedData = AGGREGATE_SELECTOR + strip0x(rawData);\n  if (ws) {\n    log('Sending via WebSocket');\n    return new Promise((resolve, reject) => {\n      ws.send(JSON.stringify({\n        jsonrpc: '2.0',\n        method: 'eth_call',\n        params: [\n          {\n            to: multicallAddress,\n            data: abiEncodedData\n          },\n          block || 'latest'\n        ],\n        id\n      }));\n      function onMessage(data) {\n        if (typeof data !== 'string') data = data.data;\n        const json = JSON.parse(data);\n        if (!json.id || json.id !== id) return;\n        log('Got WebSocket response id #%d', json.id);\n        clearTimeout(timeoutHandle);\n        ws.onmessage = null;\n        resolve(json.result);\n      }\n      const timeoutHandle = setTimeout(() => {\n        if (ws.onmessage !== onMessage) return;\n        ws.onmessage = null;\n        reject(new Error('WebSocket response timeout'));\n      }, wsResponseTimeout);\n\n      ws.onmessage = onMessage;\n    });\n  }\n  else if (web3) {\n    log('Sending via web3 provider');\n    return web3.eth.call({\n      to: multicallAddress,\n      data: abiEncodedData\n    });\n  } else {\n    log('Sending via XHR fetch');\n    const rawResponse = await fetch(rpcUrl, {\n      method: 'POST',\n      headers: {\n        'Accept': 'application/json',\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        jsonrpc: '2.0',\n        method: 'eth_call',\n        params: [\n          {\n            to: multicallAddress,\n            data: abiEncodedData\n          },\n          block || 'latest'\n        ],\n        id: 1\n      })\n    });\n    const content = await rawResponse.json();\n    if (!content || !content.result) {\n      throw new Error('Multicall received an empty response. Check your call configuration for errors.');\n    }\n    return content.result;\n  }\n}\n","/*\nMIT License\n\nCopyright (c) 2019 Maker Foundation\n\nPermission is hereby granted, free of charge, to any person obtaining a copy\nof this software and associated documentation files (the \"Software\"), to deal\nin the Software without restriction, including without limitation the rights\nto use, copy, modify, merge, publish, distribute, sublicense, and/or sell\ncopies of the Software, and to permit persons to whom the Software is\nfurnished to do so, subject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in all\ncopies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\nIMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\nFITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\nAUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\nLIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\nOUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\nSOFTWARE.\n*/\nimport { id as keccak256 } from 'ethers/utils/hash';\nimport invariant from 'invariant';\nimport { strip0x, ethCall, encodeParameters, decodeParameters } from './helpers.js';\nimport memoize from 'lodash/memoize';\n\nconst INSIDE_EVERY_PARENTHESES = /\\(.*?\\)/g;\nconst FIRST_CLOSING_PARENTHESES = /^[^)]*\\)/;\n\nexport function _makeMulticallData(calls) {\n  const values = [\n    calls.map(({ target, method, args, returnTypes }) => [\n      target,\n      keccak256(method).substr(0, 10) +\n        (args && args.length > 0\n          ? strip0x(encodeParameters(args.map(a => a[1]), args.map(a => a[0])))\n          : '')\n    ])\n  ];\n  const calldata = encodeParameters(\n    [\n      {\n        components: [{ type: 'address' }, { type: 'bytes' }],\n        name: 'data',\n        type: 'tuple[]'\n      }\n    ],\n    values\n  );\n  return calldata;\n}\n\nconst makeMulticallData = memoize(_makeMulticallData, (...args) => JSON.stringify(args));\n\nexport default async function aggregate(calls, config) {\n  calls = Array.isArray(calls) ? calls : [calls];\n\n  const keyToArgMap = calls.reduce((acc, { call, returns }) => {\n    const [, ...args] = call;\n    if (args.length > 0) {\n      for (let returnMeta of returns) {\n        const [key] = returnMeta;\n        acc[key] = args;\n      }\n    }\n    return acc;\n  }, {});\n\n  calls = calls.map(({ call, target, returns }) => {\n    if (!target) target = config.multicallAddress;\n    const [method, ...argValues] = call;\n    const [argTypesString, returnTypesString] = method\n      .match(INSIDE_EVERY_PARENTHESES)\n      .map(match => match.slice(1, -1));\n    const argTypes = argTypesString.split(',').filter(e => !!e);\n    invariant(\n      argTypes.length === argValues.length,\n      `Every method argument must have exactly one type.\n          Comparing argument types ${JSON.stringify(argTypes)}\n          to argument values ${JSON.stringify(argValues)}.\n        `\n    );\n    const args = argValues.map((argValue, idx) => [argValue, argTypes[idx]]);\n    const returnTypes = !!returnTypesString ? returnTypesString.split(',') : [];\n    return {\n      method: method.match(FIRST_CLOSING_PARENTHESES)[0],\n      args,\n      returnTypes,\n      target,\n      returns\n    };\n  });\n\n  const callDataBytes = makeMulticallData(calls, false);\n  const outerResults = await ethCall(callDataBytes, config);\n  const returnTypeArray = calls\n    .map(({ returnTypes }) => returnTypes)\n    .reduce((acc, ele) => acc.concat(ele), []);\n  const returnDataMeta = calls\n    .map(({ returns }) => returns)\n    .reduce((acc, ele) => acc.concat(ele), []);\n\n  invariant(\n    returnTypeArray.length === returnDataMeta.length,\n    'Missing data needed to parse results'\n  );\n\n  const outerResultsDecoded = decodeParameters(['uint256', 'bytes[]'], outerResults);\n  const blockNumber = outerResultsDecoded.shift();\n  const parsedVals = outerResultsDecoded.reduce((acc, r) => {\n    r.forEach((results, idx) => {\n      const types = calls[idx].returnTypes;\n      const resultsDecoded = decodeParameters(types, results);\n      acc.push(\n        ...resultsDecoded.map((r, idx) => {\n          if (types[idx] === 'bool') return r.toString() === 'true';\n          return r;\n        })\n      );\n    });\n    return acc;\n  }, []);\n\n  const retObj = { blockNumber, original: {}, transformed: {} };\n\n  for (let i = 0; i < parsedVals.length; i++) {\n    const [name, transform] = returnDataMeta[i];\n    retObj.original[name] = parsedVals[i];\n    retObj.transformed[name] = transform !== undefined ? transform(parsedVals[i]) : parsedVals[i];\n  }\n\n  return { results: retObj, keyToArgMap };\n}\n","import Web3 from 'web3';\nimport amfeixCjson from '../amfeixC.json';\nimport { A, F, I, L, S, oA, oO } from '../common/tools.mjs';\nimport { BN } from './bignumber';\nimport aggregate from '../lib/multicall/src/aggregate';\n\nexport let amfeixAddress = \"0xb0963da9baef08711583252f5000Df44D4F56925\";\n \nclass ABI { constructor(abi) { this.methodMap = F(abi.filter(x => x.type === \"function\").map(x => [x.name, x])); } }\n\nlet abi = new ABI(amfeixCjson.abi);\n//L(`abi keys = ${K(abi)}`);\n//\nclass MultiCallBatch {\n  constructor() { this.calls = []; }\n  add(target, method, params, onSuccess, onError) { this.calls.push(({ target, method, params, onSuccess, onError })); }\n  async execute(rpcUrl) {\n    // L(`Executing multicall length: ${this.calls.length}`)\n    //L(`I = ${S(I)}`);\n    //    L(`MultiCallBatch input = ${S(this.calls)}`);\n    let calls = this.calls.map((c, i) => {\n      let m = abi.methodMap[c.method];\n      return ({ target: c.target, call: [`${c.method}(${m.inputs.map(x => x.type).join(\",\")})(${m.outputs.map(x => x.type).join(\",\")})`, ...c.params], returns: m.outputs.map((x, j) => [`${i}_${j}`, I]) });\n    });\n    //    L({calls});\n    let response = await aggregate(calls, { rpcUrl, multicallAddress: '0x5e227AD1969Ea493B43F840cfF78d08a6fc17796' });\n    let results = oO(oO(response).results).original;\n    //L(`MultiCallBatch results = ${S(results)}`)\n    this.calls.forEach((c, i) => {\n      let m = abi.methodMap[c.method];\n      let q = m.outputs.map((x, j) => {\n        let r = results[`${i}_${j}`];\n        if (oO(r)._hex) { r = BN(r._hex.slice(2), 16).toString(); }\n        return r;\n      });\n      //      L({method: c.method, parms: c.params, q});\n      return c.onSuccess(q.length === 1 ? q[0] : q);\n    });\n  }\n}\n\nclass AmfeixContract {\n  setWeb3Url(url) {\n    A(this, { url, queuedOps: [], batchIx: 0, queuedOpCount: 0, processedOpCount: 0, queuedBatches: [], processing: false, inFlight: [], maxInFlight: 16, nextIx: 0, batchSize: 64, activeBatch: Promise.resolve() });\n    this.web3 = new Web3(new (this.url.indexOf(\"ws://\") === 0 ? Web3.providers.WebsocketProvider : Web3.providers.HttpProvider)(this.url, { timeout: 60000 }));\n    this.amfeixM = () => (new this.web3.eth.Contract(amfeixCjson.abi, amfeixAddress, { from: this.from })).methods;\n  }\n\n  setFrom(address) { this.from = address; }\n\n  queueOp(method, params, onSuccess, onError) {\n    this.queuedOpCount++;\n    this.queuedOps.push(({ method, params, onSuccess, onError }));\n    //    if (this.queuedOps.length  >= this.batchSize) this.flushBatch(); \n  }\n\n  async execute(op) { try { return await amfx.amfeixM()[op.method](...oA(op.params)).call(); } catch (err) { return { err }; } }\n\n  async executeBatch() {\n    let batch = new MultiCallBatch();\n    for (let op of this.queuedOps.slice(0, this.batchSize)) batch.add(amfeixAddress, op.method, oA(op.params), op.onSuccess, op.onError);\n    this.queuedOps = this.queuedOps.slice(this.batchSize);\n    await batch.execute(this.url);\n  }\n\n  async actualFlushBatch() {\n    while (this.queuedOps.length > 0) {\n      //      L({length: this.inFlight.length, queued: this.queuedOps.length, mif: this.maxInFlight});\n      if (this.inFlight.length === this.maxInFlight) { await this.inFlight[0]; this.inFlight.shift(); }\n      if (this.inFlight.length > this.maxInFlight) L(`>> ${S({ length: this.inFlight.length, mif: this.maxInFlight })}`);\n      this.inFlight.push(this.executeBatch());\n      //      await Promise.all(this.inFlight);\n    }\n  }\n\n  async flushBatch() { await new Promise((resolve, reject) => { try { setTimeout(() => resolve(this.actualFlushBatch()), 0); } catch (err) { reject(err); } }); }\n}\n\nexport let amfx = new AmfeixContract();","/* eslint no-unused-vars: 0 */\nimport bip32 from 'bip32';\nimport bip38 from 'bip38';\nimport bip39 from 'bip39';\nimport bitcoinJS_Lib from 'bitcoinjs-lib/src/index';\nimport keccak256 from 'keccak256';\nimport secp256k1 from 'secp256k1';\nimport { D, F, G, T, oO } from './tools.mjs'; \nimport buffer from 'buffer';\n\n//let g = {}; g.Buffer  = Buffer || buffer.Buffer;\n\nlet defaultDerivationPaths = { bitcoin: \"m/44'/0'/0'\", ethereum: \"m/44'/60'/0'\" };\n//02f1b2a982dbe744305a37f9dfd69d7d7c6eeaa5c34c1aba3bd277567df5b972fb\nlet rootFromSeed = (seedWords) => bip32.fromSeed(bip39.mnemonicToSeedSync(seedWords.join(\" \")));\nlet deriveFromNode = (node, t, e) => node.derive(t || 0).derive(e || 0);\nlet coinNodesFromRoot = root => G(defaultDerivationPaths, v => root.derivePath(v));\n// eslint-disable-next-line\nlet xpubsFromCoinNodes = coinNodes => G(coinNodes, v => bip32.fromPublicKey(v.publicKey, v.chainCode));\nlet toBuffer = v => { var b = buffer.Buffer.alloc(v.length); for (var i = 0; i < b.length; ++i) b[i] = v[i]; return b; };\nlet getEthAddress = pubKey => keccak256(pubKey).toString('hex').slice(-40);\nlet ethAddressFromPubKey = pubKey => getEthAddress(toBuffer(secp256k1.publicKeyConvert(pubKey, false).slice(1)));\nlet btcAddressFromPubKey = (pubkey, network) => bitcoinJS_Lib.payments.p2pkh({ pubkey, network }).address;\nlet pubKeyBufferToPoint = pubKeyBuffer => bitcoinJS_Lib.ECPair.fromPublicKey(pubKeyBuffer).publicKey;\nlet privKeyBufferToPoint = privKeyBuffer => bitcoinJS_Lib.ECPair.fromPrivateKey(privKeyBuffer).privateKey;\nlet encryptKey = (key, password, onProgress) => bip38.encrypt(key, true, password, onProgress);\nlet encryptSeedWords = (seedWords, password, onProgress) => {\n  let root = rootFromSeed(seedWords);\n  return (F(T(\"privateKey chainCode\").map(k => [k, encryptKey(root[k], password, onProgress)])));\n};\nlet decryptWallet = (encryptedKeys, password, onProgress) => (G(encryptedKeys, v => bip38.decrypt(v, password, onProgress)));\nlet getAmfeixNode = root => (deriveFromNode(coinNodesFromRoot(root).bitcoin));\nlet getAmfeixPublicKey = root => getAmfeixNode(root).publicKey;\nlet getAmfeixPrivateKey = root => getAmfeixNode(root).privateKey;\n//let hexToUI8A = h => new Uint8Array(h.match(/.{1,2}/g).map(b => parseInt(b, 16))); \nlet hexOnly = s => (s.slice(0, 2) === \"0x\") ? s.slice(2) : s;\nlet pubKeyToEthAddress = (pubKeyHex, prefix) => (prefix ? \"0x\" : \"\") + ethAddressFromPubKey(pubKeyBufferToPoint(buffer.Buffer.from(hexOnly(pubKeyHex), 'hex')));\nlet pubKeyToBtcAddress = pubKeyHex => btcAddressFromPubKey(pubKeyBufferToPoint(buffer.Buffer.from(hexOnly(pubKeyHex), 'hex')));\nlet getWalletRoot = w => (bip32.fromPrivateKey(privKeyBufferToPoint(w.privateKey.privateKey), w.chainCode.privateKey));\nlet generateSeedWords = () => T(bip39.generateMnemonic());\n\nexport { generateSeedWords, pubKeyToEthAddress, pubKeyToBtcAddress, rootFromSeed, ethAddressFromPubKey, btcAddressFromPubKey, pubKeyBufferToPoint, encryptSeedWords, decryptWallet, getAmfeixPublicKey, getAmfeixPrivateKey, getWalletRoot };","import { A, D, I, K, L, S, U, V, oA, oF, isA } from '../common/tools.mjs';\nimport { tableStrucMap } from './data';\n\nlet computeKey = (table, data, keyPath) => (z => keyPath && keyPath.length === 1 ? z.join(\"\") : z)(data && ((keyPath || tableStrucMap[table].keyPath).map(k => data[k]))); \n\n//L({tables}); L({tableStrucMap});\nclass IndexedDB {\n  constructor(name) {\n    this.name = name;\n    this.indexedDB = window.indexedDB || window.mozIndexedDB || window.webkitIndexedDB || window.msIndexedDB;\n    this.IDBTransaction = window.IDBTransaction || window.webkitIDBTransaction || window.msIDBTransaction;\n    this.IDBKeyRange = window.IDBKeyRange || window.webkitIDBKeyRange || window.msIDBKeyRange;\n  }\n\n  async init() {\n    L(\"Initializing db.\");\n    this.db = await new Promise((resolve, reject) => A(this.indexedDB.open(this.name, 5), {\n      onerror: e => reject(`DB Error: ${e.target.error}`), onsuccess: e => { L(\"DB opened.\"); resolve(e.target.result); },\n      onupgradeneeded: e => (async () => { let db = e.target.result; L(\"Upgrading db.\");\n        for (let i = 0; i < db.objectStoreNames.length; ++i) await db.deleteObjectStore(db.objectStoreNames.item(i));\n        await Promise.all((V(tableStrucMap)).map((({ table, keyPath, indices, autoIncrement }) => new Promise((resolve, reject) => { // L({ table, keyPath, indices, autoIncrement });\n          let os = db.createObjectStore(table, ({ keyPath: keyPath || \"id\", autoIncrement: autoIncrement || !D(keyPath) }));\n          oA(indices).forEach(i => os.createIndex(i[0], i[1], { unique: i[2], multiEntry: true }));\n          os.transaction.oncomplete = () => { I(`Object store created: ${L(K(os))}`); resolve(os); };\n          os.transaction.onerror = () => reject(`Creating table '${table}' failed`);\n        })))); L(\"DB structure initialized.\");\n        resolve(db);\n      })()\n    })); \n  }\n \n  deleteDB(name) { return this.indexedDB.deleteDatabase(name); }\n\n  getTx(table, label, reject) { let tx = this.db.transaction(isA(table) ? table: [table], \"readwrite\"); \n    return A(tx, { onerror: () => (tx.error !== null) && reject(`Error on ${label} for ${table}: ${tx.error}`) }); \n  }\n  getOS(table, label, reject) { return this.getTx(table, label, reject).objectStore(table); }\n  act(table, label, input, getData, index) { return new Promise((resolve, reject) => { let os = this.getOS(table, label, reject);\n    I({index, input});\n    (index ? os.index((index)) : os)[label](input).onsuccess = e => resolve(getData(e)); \n  }); }\n  add(table, data) { return this.act(table, \"add\", data, () => data); }\n  put(table, data) { return this.act(table, \"put\", data, () => data); }\n  count(table, data) { return this.act(table, \"count\", data, e => e.target.result); }\n  getAll(table, data, index, keyPath) { return this.act(table, \"getAll\", (computeKey(table, data, keyPath)), e => e.target.result, index); }\n  openCursor(table, data, onCursor) { return this.act(table, \"openCursor\", data, e => (c => c && onCursor(c))((e.target.result))); }\n  iterateAll(table, data, onData) { return this.openCursor(table, data, c => { if (onData(c.value)) c.continue(); }); }\n  get(table, data, index, keyPath) { I( {computeKey: computeKey(table, data, keyPath)} ); return this.act(table, \"get\", computeKey(table, data, keyPath), e => e.target.result, index); }\n  write(table, data) { return this.get(table, data).catch(() => this.add(table, data)).then(() => this.put(table, data)); }\n  clear(table) { return this.act(table, \"clear\", U, I); }\n\n  newBuffer() { return new IDBuffer(this) }\n}\n\nclass IDBuffer {\n  constructor(idb) { A(this, { idb, pendingOps: [], tables: {}, batchSize: 1024 }); }\n\n  queueOp(table, action, data, onSuccess, onError) {\n    this.tables[table] = true;\n    this.pendingOps.push({ table, action, data, onSuccess, onError });\n    if (this.pendingOps.length > this.batchSize) {\n      this.activeFlush = (this.activeFlush || Promise.resolve()).then(async () => await this.flush());\n    }\n  }\n\n  pendingOpsCount() { return this.pendingOps.length; }\n\n  async flush() { \n    while (this.pendingOps.length > 0) await new Promise((resolve, reject) => {\n      let p = this.pendingOps; \n      this.pendingOps = [];\n      let tx = this.idb.getTx((K(this.tables)), \"flush\", err => { L('flusherr'); L({err}); reject(err); });\n      let result = { errors: 0, successes: 0 }, total = p.length;\n      p.forEach(x => {\n        let os = tx.objectStore(x.table);\n        let y = os[x.action](x.data);\n        y.onsuccess = e => { oF(x.onSuccess)(e.target.result); if (result.errors + ++result.successes === total) resolve(result); };\n        y.onerror = e => { L(`Error for ${S(x)}: ${S(e)}`); oF(x.onError)(e); if (++result.errors + result.successes === total) resolve(result); };\n      });\n    })\n  }\n\n  add(table, data) { this.queueOp(table, \"add\", data, () => data, err => { L(`Add error ${S(data)}`); L({err}) }); }\n  put(table, data) { this.queueOp(table, \"put\", data, () => data, err => { L('Put error '); L({err}) }); }\n  count(table, data) { this.queueOp(table, \"count\", data, e => e.target.result); }\n  getAll(table, data) { this.queueOp(table, \"getAll\", (data), e => e.target.result); }\n  get(table, data, onSuccess, onError) { this.queueOp(table, \"get\", computeKey(table, data), onSuccess, onError); }  \n  write(table, data) { this.get(table, data, d => { this.put(table, data); }, () => { this.add(table, data); }); }\n}\n\nexport { IndexedDB, IDBuffer };","import { L, V, makeEnum, singleKeyObject } from '../common/tools.mjs'\n\nlet EUserMode = makeEnum(\"User Admin\");\nlet EDeveloperMode = makeEnum(\"Production Developer\");\nlet EPallette = makeEnum(\"Default Dark Light\");\nlet ETransactionType = makeEnum(\"Outgoing Incoming Investment\");\n\nlet enumDefault = x => V(x)[0];\nlet enumDefObj = x => singleKeyObject(enumDefault(x), true);\nL({ETransactionType})\n\nexport { EPallette, EUserMode, EDeveloperMode, ETransactionType, enumDefault, enumDefObj }","import { SyncCache } from './syncCache.mjs';\nimport * as crypto from './crypto.mjs';\nimport { F, T } from './tools.mjs';\n\nlet pubKeyConvertors = { btc: crypto.pubKeyToBtcAddress, eth: crypto.pubKeyToEthAddress };\nlet pubKeySyncCaches = { btc: new SyncCache(), eth: new SyncCache() };\n\nlet pubKeyCachedConvertors = F(T(\"btc eth\").map(k => [k, pubKey => pubKeySyncCaches[k].getData(pubKey, () => pubKeyConvertors[k](pubKey))]));\nlet pubKeyToBtcAddress = pubKeyCachedConvertors.btc;\nlet pubKeyToEthAddress = pubKeyCachedConvertors.eth;\n\nexport { pubKeyToEthAddress, pubKeyToBtcAddress }\n","import { BN }  from './bignumber'; \nimport { D, U } from '../common/tools.mjs';\nlet coin = BN(10).pow(8);\n\nlet satoshiToBTCString = s => D(s) ? s.div(coin).toString() : U; \nlet btcToString = s => s.toString(); \nlet satoshiToBTCFloat = s => parseFloat(satoshiToBTCString(s));\n\nexport { btcToString, satoshiToBTCString, satoshiToBTCFloat }","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n    // [::1] is the IPv6 localhost address.  127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname === 'localhost' || window.location.hostname === '[::1]' || window.location.hostname.match(/^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/)\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => console.log('This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA'));\n      } else { registerValidSW(swUrl, config); } // Is not localhost. Just register service worker\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import AccountBalanceWalletOutlinedIcon from '@material-ui/icons/AccountBalanceWalletOutlined';\nimport SettingsIcon from '@material-ui/icons/Settings';\nimport EqualizerIcon from '@material-ui/icons/Equalizer';\nimport LockOpenIcon from '@material-ui/icons/LockOpen';\nimport SupervisorAccountIcon from '@material-ui/icons/SupervisorAccount';\nimport AddCircleOutlineIcon from '@material-ui/icons/AddCircleOutline';\nimport VpnKeyIcon from '@material-ui/icons/VpnKey';\nimport HourglassEmptyIcon from '@material-ui/icons/HourglassEmpty';\n\nexport let captionIconMap = {\n  Bitcoin_Wallet: AccountBalanceWalletOutlinedIcon,\n  Impact_Fund: EqualizerIcon,\n  Settings: SettingsIcon,\n  Progress: HourglassEmptyIcon,\n  Unlock_wallet: LockOpenIcon,\n  Create_wallet: AddCircleOutlineIcon,\n  Log_in: VpnKeyIcon,\n  Admin: SupervisorAccountIcon\n};\n","import { G, singleKeyObject } from '../common/tools.mjs';\n\nlet formatDate = date => {\n  let make2Digit = s => (s.length === 1) ? '0' + s : s;\n  let fmt = { year: 'numeric', month: 'short', day: '2-digit', hour: 'numeric', minute: 'numeric', second: 'numeric', hour12: false };\n  let d = G(fmt, (v, k) => new Intl.DateTimeFormat('en', { hour12: false, ...singleKeyObject(k, v) }).format(date));\n  return `${d.month} ${d.day}, ${d.year} ${make2Digit(d.hour)}:${make2Digit(d.minute)}:${make2Digit(d.second)}`;\n}, formatTimestamp = timestamp => timestamp && formatDate(new Date(1000 * timestamp));\n\nexport { formatTimestamp, formatDate }","/* eslint react/jsx-key: 0 */\n/* eslint react/prop-types: 0 */\n/* eslint no-unused-vars: 0 */\nimport React from 'react';\n// eslint-disable-next-line\nimport { A, D, E, F, G, I, K, L, U, V, S, oA, oB, oF, oO, oS, isO, singleKeyObject } from '../common/tools.mjs';\n// eslint-disable-next-line\nimport { List, ListItem, ListItemText, ListItemIcon, Hidden, Drawer, Stepper, Step, StepLabel, CircularProgress, TextField, Dialog, Box, Button, RadioGroup, Radio, FormControl, FormControlLabel, Tab, Tabs, Paper, Table, Typography, TableBody, TableCell, TableContainer, TableHead, TablePagination, TableRow, TableSortLabel, Checkbox, TableFooter } from '@material-ui/core';\n// eslint-disable-next-line\n//import { HistoryIcon, AttachMoneyIcon, CallMadeIcon } from '@material-ui/icons';\nimport { btcToString, satoshiToBTCString } from '../core/satoshi';\nimport LockIcon from '@material-ui/icons/Lock';\nimport { captionIconMap } from './icons';\nimport { formatTimestamp } from './formatting'; \nimport { BN } from '../core/bignumber'\n\nlet captionMap = {\n  timestamp: \"Time\", value: \"Value\", txId: \"Transaction ID\", deposits: \"Deposits\", withdrawals: \"Withdrawals\", withdrawalRequests: \"Withdrawal Requests\", fundDepositAddresses: \"Fund deposit addresses\", feeAddresses: \"Fee addresses\", _: \"\"\n}; \n//let displayFunctions = { timestamp: formatTimestamp };\n\nlet cleanText = s => oS(s).replace(/_/g, \" \").trim();\n\nclass Comp extends React.Component {\n  constructor(p, s, sors) { super(p); A(this, { state: {...s}, fers: {}, observers: [] }); this.initRefs(oS(sors)); }\n  render() { return this.ren(this.props, this.state); }\n  ren(p, s) { return <div/> }\n  initRefs(spacedOutRefString) { this.fers = F(spacedOutRefString.split(\" \").map(k => [k, React.createRef()])); }\n  updateChildRef(newV) { if (D(this.props.childRef)) this.props.childRef.current = newV; }\n  componentDidMount() { this.updateChildRef(this); }\n  componentWillUnmount() { this.updateChildRef(U); for (let o of this.observers) o.detach(); this.unmounted = true; }\n  setStateKV(k, v, onDone) { //L(`setStateKV(${k}, ${S(v)})`); \n  this.setState(singleKeyObject(k, v, onDone)) }\n  addSyncKeyObserver(data, key, context) { this.addSyncObserver(data, key, d => { if (!this.unmounted) this.setStateKV(key, d) }, context); }\n  addSyncObserver(data, key, onChange, context) { this.observers.push(data.syncCache.watch(key, onChange, context)); }\n}  \n\nclass Selector extends Comp { constructor(p) { super(p); A(this.state, { selectedIx: 0 }); oF(p.onChanged)(this.state.selectedIx) }\n  setSelectedIx(selectedIx) { if (this.state.selectedIx !== selectedIx) this.setState({ selectedIx }, () => oF(this.props.onChanged)(selectedIx)); }\n  ren(p, s) { return <FormControl component=\"fieldset\"><RadioGroup row={p.horizontal || U} aria-label=\"\" name=\"\" value={s.selectedIx} onChange={e => this.setSelectedIx(L(parseInt(e.target.value)))}>\n    {(oA(p.options).map((x, i) => <FormControlLabel key={i} value={i} label={x} control={<Radio />}/>))}</RadioGroup></FormControl> }\n}  \n\nfunction sort(a, comp) { return a.map((e, i) => [e, i]).sort((a, b) => (comp && comp(a[0], b[0])) || (a[1] - b[1])).map(e => e[0]); }\nlet styles = ({ visuallyHidden: { border: 0, clip: 'rect(0 0 0 0)', height: 1, margin: -1, overflow: 'hidden', padding: 0, position: 'absolute', top: 20, width: 1, }, });\nlet classes = styles;\nclass THead extends Comp {\n  ren(p, s) {\n    const { onSelectAllClick, order, orderBy, numSelected, rowCount, onRequestSort } = p;\n    const createSortHandler = (property) => (event) => { onRequestSort(property, event); }; \n    return <TableHead><TableRow>\n      {p.checkable ? <TableCell padding=\"checkbox\"><Checkbox indeterminate={numSelected > 0 && numSelected < rowCount} checked={rowCount > 0 && numSelected === rowCount} onChange={onSelectAllClick} inputProps={{ 'aria-label': 'select all desserts' }} /></TableCell> : null}\n      {oA(p.headers).map((h, i) => { let sortDirection = ['asc', 'desc', false][orderBy === i ? order : 2];\n        return <TableCell key={i} align={h.alignCaption} padding={h.disablePadding ? 'none' : 'default'} sortDirection={sortDirection}>\n          <TableSortLabel active={orderBy === i} direction={sortDirection || 'asc'} onClick={createSortHandler(i)}>\n            {h.caption}{orderBy === i ? <span style={styles.visuallyHidden}>{order === 1 ? 'sorted descending' : 'sorted ascending'}</span> : null}\n          </TableSortLabel>\n        </TableCell>})}\n    </TableRow></TableHead>;\n  }\n}\n \nclass ListView extends Comp {\n  constructor(p) { super(p); this.state = { page: 0, rowsPerPage: 5, checked: {}, selectedIx: null, sortOrder: 0 }; } \n  ren(p, s) {\n    let headers = p.headers || K(oO(oA(p.data)[0])).map(h => ({ label: h, caption: h }));\n    let rows = oA(p.data).map((d, _id) => ({ _id, ...d }));\n    if (D(s.sortColumn)) rows = rows.sort((a, b) => { let h = headers[s.sortColumn];\n      let x = (h.compare || ((x, y) => (x === y ? 0 : (x < y ? -1 : 1))))(a[h.label], b[h.label]);\n      return [x, -x][s.sortOrder];\n    });\n    let elimObjects = (d, h) => { if (isO(d)) { L(`${h} is an object: ${S(K(d))}`); } else return d; };\n    let X = (d, f) => this.setState(d, () => { oF(p.onChange)(d); oF(f)(d); });\n    let isChecked = d => s.checked[d.index], isSelected = d => s.selectedIx === d._id;\n    let columnCount = headers.length + (p.checkable ? 1 : 0);\n    let prevRowsPerPage = s.rowsPerPage;\n    let offset = s.page * s.rowsPerPage, end = Math.min(rows.length, offset + s.rowsPerPage);//, emptyRows = offset + s.rowsPerPage - end;\n    let dense = true, onRequestSort = sortColumn => { this.setState({ sortColumn, sortOrder: this.state.sortOrder ^ ((this.state.sortColumn === sortColumn) ? 1 : 0) })}; \n    return <TableContainer component={Box}><p>{p.caption || null}</p><Table className={classes.table} aria-labelledby={p.title} size={(dense ? 'small' : 'medium')} aria-label={p.title}>\n        <THead headers={headers} classes={classes} checkable={p.checkable} numSelected={V(s.checked).filter(v => D(v)).length} order={s.sortOrder} orderBy={s.sortColumn} onSelectAllClick={() => { }} onRequestSort={onRequestSort} rowCount={rows.length} />\n        <TableBody>{sort(rows).slice(offset, (s.page + 1) * s.rowsPerPage).map((d, i) => <TableRow key={i} hover onClick={() => X({ selectedIx: d._id })} aria-checked={isChecked(d)} tabIndex={-1} selected={isSelected(d)}>\n          {p.checkable ? <TableCell padding=\"checkbox\"><Checkbox checked={isChecked(d)} inputProps={{ 'aria-labelledby': i }} /></TableCell> : null}\n          {headers.map((h, j) => <TableCell key={j} align={h.align || \"center\"}>{(h.displayFunc || I)(d[h.label], d)}</TableCell>)}\n        </TableRow>)}</TableBody>\n        {rows.length > s.rowsPerPage ? <TableFooter><TableRow><TablePagination component={TableCell} colSpan={(columnCount - 1)} rowsPerPageOptions={[5, 10, 25, 50, 100, 250, 500, 1000]} count={rows.length} rowsPerPage={s.rowsPerPage} page={s.page} onChangePage={(e, page) => X({ page })} onChangeRowsPerPage={e => X({ rowsPerPage: parseInt(e.target.value, 10) }, d => X({ page: Math.min(Math.round(s.page*(prevRowsPerPage/d.rowsPerPage)), Math.floor((rows.length - 1)/d.rowsPerPage) )}))} /></TableRow></TableFooter> : null}\n      </Table></TableContainer>   \n  }\n}\n \nclass Sidebar extends Comp {\n  ren(p, s) {  \n    return <List>{E(p.tabs).map(([title, control], i) => { let color = p.value === i ? \"secondary\" : \"primary\";\n      return <ListItem button onClick={() => oF(p.onChange)(U, i)} key={i}>{tabulize(0, [[\n        <ListItemIcon>{(C => D(C) ? <C color={color}/> : null)(captionIconMap[title])}</ListItemIcon>, \n        <Typography color={color}>{cleanText(title)}</Typography>\n      ]], [[{width: \"2em\"}, U]])}</ListItem>})}\n    </List>; \n  }\n}\n\nclass TabbedView extends Comp { constructor(p) { super(p, { selectedTabIx: 0 }); this.fers.visibleTab = {}; }\n  getVisibleTab() { return this.fers.visibleTab.current; }\n  ren(p, s) {let selTabIx = (D(p.selectedTabIx) ? p.selectedTabIx : s.selectedTabIx) || 0;\n    let TabsControl = D(p.tabsControl) ? p.tabsControl : U;\n    let horizontal = p.horizontal;\n    let tabsProps = { value: selTabIx, onChange: (e, selectedTabIx) => this.setState({ selectedTabIx }, oF(p.onChangeSelectedTabIx)(selectedTabIx)) };\n    let tabs = p.TabsControl ? p.TabsControl(tabsProps) : <Tabs indicatorColor=\"primary\" textColor=\"primary\" {...tabsProps} aria-label=\"tabs\" centered>{E(p.tabs).map(([title, control], i) => <Tab key={i} label={cleanText(title)} disabled={(oO(p.tabProps)[title])}/>)}</Tabs>;\n    //L(`TabbedView: pp: ${S(p.parentProps)}`)\n    let activeTab = K(p.tabs).length > 0 ? React.createElement(V(p.tabs)[selTabIx], ({...p.parentProps, childRef: this.fers.visibleTab})) : null;\n    return tabulize(0, horizontal ? [[tabs, activeTab]] : [[tabs], [activeTab]], horizontal ? [[{width: \"13em\", verticalAlign: \"top\"}, U]] : [[U], [U]]);\n  }\n}\n\nlet button = (caption, onClick, color) => <Button variant=\"contained\" color={[\"primary\", \"secondary\"][color || 0]} onClick={onClick}>{caption}</Button>\n\nclass TabTimeline extends Comp { constructor(p) { super(p, { selectedTabIx: 0 }); this.fers.tabbedView = React.createRef(); this.fers.visibleTab = {}; }\n  getTabbedView() { return this.fers.tabbedView.current; } \n  getVisibleTab() { return this.fers.visibleTab.current; }\n  ren(p, s) { let last = (i, o) => (i === (K(o).length - 1));\n    let f = o => G(o, (V, k, i) => () => tabulize(1/2, [[<Box><V {...p.parentProps} childRef={this.fers.visibleTab}/></Box>], [<Box>{tabulize(1/2, [[\n      p.onCancel && button(\"Cancel\", oF(p.onCancel)), \n      (i > 0) && button(\"Start over\", () => this.setState({ selectedTabIx: 0 })),\n      !last(i, o) && button(\"Next\", () => { let r = this.getVisibleTab().validate(); if (r) { \n        this.setState(L({ selectedTabIx: s.selectedTabIx + 1 }), () => (t => oF(t.setPrecedingResult).bind(t)(r))(this.getVisibleTab())); \n      }}),\n      last(i, o) && button(p.acceptText || \"Finish\", () => { let vt = this.getVisibleTab(); if (vt) { let r = vt.validate(); L(`>> r = ${S(r)}`); if (L(r)) oF((p.onAccept))(r); } })\n    ].filter(I)])}</Box>]]));\n    //L(`TabTimeLine:: ${S(p.parentProps)}`);\n    return <TabbedView onChangeSelectedTabIx={selectedTabIx => this.setState({selectedTabIx})} selectedTabIx={s.selectedTabIx} ref={this.fers.tabbedView} tabs={f(oO(p.tabs))} tabProps={G((p.tabs), (v, k, i) => (i !== (s.selectedTabIx)))} parentProps={p.parentProps}/>\n  }\n}\n\nclass TabTimelineNew extends Comp { constructor(p) { super(p, { selectedTabIx: 0 }); this.fers.visibleTab = {}; }\n  ren(p, s) { let C = V(p.tabs)[s.selectedTabIx];\n    return K(p.tabs).length === 1 ? <C childRef={this.fers.visibleTab} {...p.parentProps}/> :\n    <><Stepper activeStep={s.selectedTabIx} alternativeLabel>{K(oO(p.tabs)).map(label => (<Step key={label}><StepLabel>{label}</StepLabel></Step>))}</Stepper>\n    <C childRef={this.fers.visibleTab} {...p.parentProps}/>\n    </>\n  }\n}\n\nclass ValidatableComp extends Comp {\n  constructor(p, s, fers) { super(p, { values: {}, errors: {}, ...s }, fers);  }\n  setErrors(errors) { this.setState({ errors }, () => L(`New errors = ${S(this.state.errors)}`)); return (((K(errors).filter(I)).length) === 0); } \n  validate() { return true; }\n  genTextField(k, p) { let s = this.state; return <TextField error={(D(s.errors[k]))} variant=\"outlined\" ref={this.fers[k]} id={k} label={cleanText(k)} onChange={e => this.setState({ values: { ...s.values, ...singleKeyObject(k, e.target.value)}})} value={oS(s.values[k])} {...p} helperText={s.errors[k] || oO(p).helperText}/> }\n}\n\nlet tabulize = (borderSpacing, cells, cellStyles) => <table style={{borderSpacing: `${borderSpacing || 0}em`}}><tbody>{cells.map((r, i) => <tr key={i}>{r.map((c, j) => \n  <td key={j} style={cellStyles && oO(oA(oA(cellStyles)[i])[j])}>{c}</td>)}</tr>)}</tbody></table> \nlet formTable = cells => tabulize(1.5, cells)\nlet form = (preamble, cells) => <form noValidate autoComplete=\"off\">{preamble}{formTable(cells)}</form>\n\nclass DialogWrap extends Comp { //constructor(p, s) { super(p, {...s, open: false}); }\n//  show() { this.setState({ open: true }); }\n  ren(p, s) { \n    //L(`DialogWrap parentProps = ${S(p.parentProps)}`)\n    let C = p.comp; let id = cleanText(p.id);\n    return <Dialog aria-labelledby={id} open={p.open} onClose={() => { oF(p.onClose)(); this.setState({ open: false }); }}><h2>{id}</h2>\n      <C {...p.parentProps} onCancel={p.onCancel} onAccept={p.onAccept}/></Dialog> }\n} \n\nclass OpenDialogButton extends Comp { constructor(p, s) { super(p, { ...s, open: false }); }\n  ren(p, s) { return <>{button(cleanText(p.id), () => this.setState({ open: true }))}\n    <DialogWrap open={s.open} comp={p.comp} id={p.id} onAccept={d => { p.onAccept(d); this.setState({ open: false }); }} onCancel={() => { oF(p.onCancel)(); this.setState({ open: false }); }} parentProps={p.parentProps}/></> }\n}\n \nclass GetPasswordView extends ValidatableComp {\n  constructor(p, s) { super(p, s, \"Password\"); }\n  ren(p, s) { return formTable([[preamble(\"Please enter your password to confirm\", `Enter the password for wallet '${p.walletName}'`)], [<LockIcon fontSize={\"large\"}/>], \n    [this.genTextField(\"Password\", { type: \"password\" })]]) }\n  validate() { return this.state.values; }\n}\n\nclass GetPasswordDialog extends Comp { //constructor(p, s) { super(p, s, \"dlg\"); }\n  ren(p, s) { return <DialogWrap open={oB(p.open)} comp={() => <TabTimeline tabs={{GetPasswordView}} walletName={p.walletName} onAccept={p.onAccept} onCancel={p.onCancel} />}/> }\n}\n\nclass ProgressDialog extends Comp { ren(p, s) { let id = cleanText(p.title); \n  return <Dialog aria-labelledby={id} open={p.open} onClose={oF(p.onClose)}><h2>{cleanText(id)}</h2>{tabulize(3, [[<CircularProgress  value={p.progress} />]])}</Dialog> \n} }\n\nlet testModeComp = (testMode, C) => (testMode ? <div style={{borderStyle: \"dashed\", borderWidth: \"1px\", borderRadius: `0.333em`, borderColor: '#7A7'}}><C/></div> : null)\n\nlet wrapEllipsisDiv = v => <div style={{ textOverflow: \"ellipsis\", overflow: \"hidden\", whiteSpace: \"nowrap\"}}>{v}</div>;\nlet newTabRef = (link, caption) => <a target=\"_blank\" rel=\"noopener noreferrer\" href={link}>{caption}</a>;\nlet aLink = (src, caption) => wrapEllipsisDiv(newTabRef(src, caption)); \nlet extractHeaders = d => F(K(oO(oA(d)[0])).map(h => [h, { label: h, caption: h }]));\n\n\nlet dataList = (d, options) => <ListView data={d} headers={V(genHeaders(d))} {...options}/>; \n\nlet compareStrings = (a, b) => a.localeCompare(b);\nlet compareBNs = (a, b) => a.isLessThan(b); \nlet commonDataTypes = {\n  vinout: { caption: \"Entry\", displayFunc: dataList },\n  btcAddress: { caption: \"BTC address\", displayFunc: v => aLink(`https://www.blockchain.com/en/btc/address/${v}`, v), compare: compareStrings },\n  ethAddress: { caption: \"ETH address\", displayFunc: v => aLink(`https://etherscan.io/address/${v}`, v), compare: compareStrings },\n  btcTx: { caption: \"Bitcoin transaction\", displayFunc: v => aLink(`https://www.blockchain.com/en/btc/tx/${v}`, v), compare: compareStrings },\n  pubKey: { caption: \"Public key\", displayFunc: wrapEllipsisDiv, compare: compareStrings },\n  status: { caption: \"Status\", displayFunc: cleanText, compare: compareStrings },\n  btcSatoshis: { caption: \"Amount (BTC)\", align: \"right\", alignCaption: \"right\", displayFunc: x => satoshiToBTCString(x), compare: compareBNs },\n  btc: { caption: \"Amount (BTC)\", align: \"right\", alignCaption: \"right\", displayFunc: x => btcToString(x), compare: compareBNs }\n}\nlet commonTableHeaders = G({ txId: { type: \"btcTx\" }, btcAddress: { type: \"btcAddress\" }, fromBTC: { caption: \"From BTC Address\", type: \"btcAddress\" }, toBTC: { caption: \"To BTC Address\", type: \"btcAddress\" }, ethAddress: { type: \"ethAddress\" }, pubKey: { type: \"pubKey\" }, satoshiBN: { type: \"btcSatoshis\" }, depositedValue: { caption: \"Deposited value (BTC)\", type: \"btcSatoshis\" },  currentValue: { caption: \"Current value (BTC)\", type: \"btcSatoshis\" }, fee: { caption: \"Fee\", type: \"btcSatoshis\" }, delta: { caption: \"Delta\", type: \"btcSatoshis\" }, value: { type: \"btcSatoshis\" }, status: { type: \"status\" }, ins: { caption: \"Inputs\", type: \"vinout\" }, outs: { caption: \"Outputs\", type: \"vinout\" },\n  fundDepositAddress: { caption: \"Fund deposit address\", type: \"btcAddress\"}, \n  fromPubKey: { caption: \"From public key\", type: \"pubKey\" }, fromBtcAddress: { caption: \"From BTC address\", type: \"btcAddress\" },\n  derivedEthAddress: { caption: \"Derived ETH Address\", type: \"ethAddress\" }, \n  timestamp: { caption: \"Time\", align: \"left\", alignCaption: \"left\", displayFunc: formatTimestamp }, \n  time: { caption: \"Time\", align: \"left\", alignCaption: \"left\", displayFunc: formatTimestamp },\n}, v => ({...(D(v.type) ? commonDataTypes[v.type] : {}), ...v}));\n \nlet applyListHeaders = (h, mods)  => { E(mods).forEach(([k, v]) => A(oO(h[k]), v)); return h; };\nlet genHeaders = d => applyListHeaders(extractHeaders(d), commonTableHeaders);\n\nlet applyHeaders = h => applyListHeaders(h, {\n  //  txId: { caption: \"BTC Transaction\", displayFunc: displayBtcTransaction },\n    name: { caption: \"Wallet name\" },\n    privateKey: { caption: \"Encrypted Private Key\", displayFunc: wrapEllipsisDiv },\n    chainCode: { caption: \"Encrypted Chain Code\", displayFunc: wrapEllipsisDiv },\n    publicKey: { caption: \"Public Key\", displayFunc: wrapEllipsisDiv },\n    btcAddress: { caption: \"Bitcoin Wallet Address\", displayFunc: wrapEllipsisDiv },\n    ethAddress: { caption: \"Ethereum Investor address\", displayFunc: wrapEllipsisDiv },\n  //  value: { caption: \"Amount (BTC)\", align: \"right\", alignCaption: \"right\" }\n  });\n    \nlet preamble = (title, text, warning) => <><h2 style={{textAlign: \"left\"}}>{title}</h2><p style={{textAlign: \"left\"}}>{text}</p><p style={{textAlign: \"left\", color: \"#FF2170\"}}>{warning}</p></>;\nlet loadingComponent = (data, c) => D(data) ? c  : tabulize(5, [[<CircularProgress/>]]);\n\nlet dataSummary = (n, data) => (d => tabulize(1/3, [[`Number of ${n}s:`, d.length], [`Total ${n} value:`, satoshiToBTCString(d.reduce((p, c) => p.plus((c.satoshiBN)), BN(0)))],\n  [`Time of first ${n}:`, formatTimestamp(d.reduce((p, c) => D(p) ? Math.min(p, c.timestamp) : c.timestamp, U))],\n  [`Time of last ${n}:`, formatTimestamp(d.reduce((p, c) => D(p) ? Math.max(p, c.timestamp) : c.timestamp, U))]\n]))(oA(data))\n\nexport { dataList, dataSummary, testModeComp, GetPasswordDialog, preamble, loadingComponent, commonTableHeaders, applyListHeaders, extractHeaders, genHeaders, wrapEllipsisDiv, Sidebar, Comp, ValidatableComp, DialogWrap, ProgressDialog, ListView as List, TabbedView, Selector, captionMap, OpenDialogButton, cleanText, TabTimeline, button, tabulize, formTable, form, commonDataTypes }","/* eslint react/jsx-key: 0 */\n/* eslint react/prop-types: 0 */\n/* eslint no-unused-vars: 0 */\nimport React from 'react';\n// eslint-disable-next-line\nimport { A, D, E, F, G, I, K, L, S, T, V, oA, oF, oO, singleKeyObject } from '../common/tools.mjs';\nimport { data, getInvestorWalletDataKey, getInvestorDataKey, stati } from '../core/data';\n// eslint-disable-next-line\nimport { dataSummary, tabulize, commonDataTypes, genHeaders, ValidatableComp, Comp, TabbedView, List, cleanText, button, TabTimeline } from './components'; \n\nclass DataDependentView extends Comp {\n  componentDidMount() { this.componentDidUpdate({}); }\n  componentDidUpdate(prevP) { if (prevP.investor !== this.props.investor) this.updateInvestor(this.props.investor); } \n} \nclass InvestorDependentView_Eth extends DataDependentView { \n  updateInvestor(investor) { if (investor) { this.addSyncKeyObserver(data, getInvestorDataKey(investor)); data.retrieveInvestorData(investor); } }\n  getInvestorData() { return oO(this.props.investor && this.state[getInvestorDataKey(this.props.investor)]); }\n} \n\nclass InvestorDependentView_Btc extends DataDependentView { \n  updateInvestor(investor) { if (investor) { this.addSyncKeyObserver(data, getInvestorWalletDataKey(investor)); data.retrieveInvestorWalletData(investor); } }\n  getInvestorWalletData() { return oO(this.props.investor && this.state[getInvestorWalletDataKey(this.props.investor)]); }\n} \n\nclass InvestorID extends Comp { ren(p, s) { let i = oO(p.investor); return tabulize(1/7, [\n  ['Public key', i.pubKey || '?'], \n  ['Investor address (eth)', commonDataTypes.ethAddress.displayFunc(i.data) || '?'], \n  ['Wallet address (btc)', commonDataTypes.btcAddress.displayFunc(i.btcAddress) || '?']]) \n} }\n\nclass EthTxView extends InvestorDependentView_Eth { ren(p, s) { let i = this.getInvestorData(); \n  let headers = F(T(\"Deposits Pending_Withdrawals Withdrawals\").map(k => [k, genHeaders(i[k])]));\n  headers = G(headers, v => V(v).filter(h => (p.EDeveloperMode.Developer) || T(\"status depositedValue currentValue txId pubKey timestamp\").includes(h.label)));\n  return <TabbedView style={{ display: D(p.investor) ? \"block\" : \"none\" }} caption={`Investor ${oO(p.investor).data}`} tabs={G(headers, (v, k) => () => \n  tabulize(1/2, [[dataSummary(k.slice(0, -1), i[k])], [<List data={i[k]} headers={v} />]]))} />;\n} }\n\nclass InvestorList extends Comp { componentDidMount() { this.addSyncKeyObserver(data, \"investorsAddresses\"); }\n  ren(p, s) { \n    let h = genHeaders(s.investorsAddresses);\n    A(oO(h.data), { caption: \"Address\", ...commonDataTypes.ethAddress });\n    return <List caption={p.caption || \"Investors\"} data={s.investorsAddresses} headers={V(h)} onChange={d => oF(p.onChangedSelectedInvestor)(oA(s.investorsAddresses)[d.selectedIx])} />; \n  }\n}\n\nexport { InvestorList, InvestorID, EthTxView, InvestorDependentView_Eth, InvestorDependentView_Btc }","// eslint-disable-next-line\nimport { A, D, E, H, I, K, L, P, R, S, T, U, V, oA, oF, oO, oS, asA, singleKeyObject } from '../common/tools.mjs'; \nimport { decryptWallet, getWalletRoot, getAmfeixPublicKey, btcAddressFromPubKey, pubKeyBufferToPoint, ethAddressFromPubKey, encryptSeedWords, rootFromSeed, getAmfeixPrivateKey } from '../common/crypto';\nimport { Persistent } from './persistent'\n\nclass Wallet extends Persistent { \n  constructor() { super(\"wallet\", [\"accounts\"], { accounts: {} }); L('Creating Wallet class instance.'); }\n\n  async openWallet(creds, wallet) {// L(`openWallet: ${S(creds)} wallet: ${S(wallet)}`)\n    let w = await decryptWallet(P(wallet, T(\"privateKey chainCode\")), creds.Password); \n    let root = getWalletRoot(w);\n    let pub = getAmfeixPublicKey(root);\n    return ({ privateKey: w.privateKey, chainCode: w.chainCode, publicKey: pub.toString('hex'), btcAddress: btcAddressFromPubKey(pubKeyBufferToPoint(pub)), ethAddress: ethAddressFromPubKey(pub) }); \n  }\n\n  async add(creds, seedWords) { \n    let w = await encryptSeedWords(seedWords, creds.Password); \n    let d = await this.openWallet(creds, w); \n    let root = rootFromSeed(seedWords);\n    if (root.privateKey.toString('hex') !== d.privateKey.privateKey.toString('hex')) throw R(\"Encryption error (private key mismatch)\");\n    if (root.chainCode.toString('hex') !== d.chainCode.privateKey.toString('hex')) throw R(\"Encryption error (chainCode mismatch)\");\n    this.accounts[creds.Wallet] = { name: creds.Wallet, ...w, ...P(d, T(\"publicKey btcAddress ethAddress\")) };\n    this.persist(); \n    return this.lastLogin = this.accounts[creds.Wallet];\n  } \n\n  async getPrivateKey(creds) {\n    let d = await this.openWallet(creds, this.accounts[creds.Wallet]);\n    return getAmfeixPrivateKey(getWalletRoot(d)).toString('hex');\n  }\n\n  async open(creds) { \n    let d = await this.openWallet(creds, this.accounts[creds.Wallet]);\n    (A(this.accounts[creds.Wallet], { name: creds.Wallet, ...P(d, T(\"publicKey btcAddress ethAddress\")) }));\n    return this.lastLogin = this.accounts[creds.Wallet]; \n  }\n}\n\nlet wallet = new Wallet();\n\nexport { wallet }\n//nStMSFYWGfFL5QW","/* eslint react/jsx-key: 0 */\n/* eslint react/prop-types: 0 */\n/* eslint react/display-name: 0 */\nimport React from 'react';\n// eslint-disable-next-line\nimport { A, D, E, F, G, I, K, L, S, T, U, V, oA, oO } from '../common/tools.mjs';\nimport { Transaction, data } from '../core/data';\n// eslint-disable-next-line\nimport { form, formTable, ProgressDialog, GetPasswordDialog, loadingComponent, applyListHeaders, commonTableHeaders, genHeaders, ValidatableComp, OpenDialogButton, Comp, TabbedView, List, tabulize, TabTimeline, preamble, button } from './components';\nimport { InvestorList, EthTxView } from './investor';\nimport { Typography } from '@material-ui/core';\nimport { BN }  from '../core/bignumber';\nimport { satoshiToBTCString } from '../core/satoshi';\nimport { formatTimestamp } from './formatting';\nimport { wallet } from '../core/wallet';\nimport { pubKeyToEthAddress } from \"../common/crypto\";\n\nclass Approve_actions_Form extends ValidatableComp { constructor(p, s, actionName, propertyLabel) { super(p, s); A(this, { actionName, propertyLabel });  }\n  validate() { return this.props[this.propertyLabel]; }\n  ren(p, s) { let d = oA(p[this.propertyLabel]), n = this.actionName;\n    return form(preamble(`Approve ${n}s`, `Click 'Confirm' to approve all pending ${n}s.`), [\n      [`Number of pending ${n}s:`, d.length],\n      [`Total ${n} value:`, satoshiToBTCString(d.reduce((p, c) => p.plus((c.satoshiBN)), BN(0)))],\n      [`Time of first ${n}:`, formatTimestamp(d.reduce((p, c) => D(p) ? Math.min(p, c.timestamp) : c.timestamp, U))],\n      [`Time of last ${n}:`, formatTimestamp(d.reduce((p, c) => D(p) ? Math.max(p, c.timestamp) : c.timestamp, U))]\n    ])\n  }\n}\n\nclass Approve_deposits_Form extends Approve_actions_Form { constructor(p, s) { super(p, s, \"deposit\", \"pendingDeposits\"); } }\nclass Approve_withdrawals_Form extends Approve_actions_Form { constructor(p, s) { super(p, s, \"withdrawal\", \"pendingWithdrawals\"); } }\n\nclass Approve_all_pending_deposits extends Comp { ren(p, s) { \n  return <TabTimeline tabs={{ Approve_deposits_Form }} acceptText=\"Confirm\" onAccept={p.onAccept} onCancel={p.onCancel} parentProps={{pendingDeposits: p.pendingDeposits}} />;\n} } \n\nclass Approve_all_pending_withdrawals extends Comp { ren(p, s) { \n  return <TabTimeline tabs={{ Approve_withdrawals_Form }} acceptText=\"Confirm\" onAccept={p.onAccept} onCancel={p.onCancel} parentProps={{pendingWithdrawals: p.pendingWithdrawals}} />;\n} }\n\nlet textField = (title) => ({ title });\nlet generateForm = (preambleText, aa) => {\n  return class extends ValidatableComp { constructor(p, s) { super(p, s, aa.flat().map(x => x.title).join(\" \")); }\n    ren(p, s) { return form(preamble(preambleText), aa.map(a => a.map(tf => this.genTextField(tf.title)))) }\n    validate() { return this.state.values; }\n  }\n}\n\nlet changeDataForms = {\n  Owner: generateForm(\"Please enter the new Owner\", [[textField(\"Owner\")]]),\n  AUM: generateForm(\"Please enter the new AUM\", [[textField(\"AUM\")]]),\n  BtcPrice: generateForm(\"Please enter the new BtcPrice\", [[textField(\"BtcPrice\")]]),\n  RequestGas: generateForm(\"Please enter the new AUM\", [[textField(\"RequestGas\")]]),\n  Daily_change: generateForm(\"Please enter the new Daily_change\", [[textField(\"Daily_change\")]]),\n  Fees: generateForm(\"Please enter the new Fees\", [T(\"fee1 fee2 fee3\").map(textField)]),\n  Fund_deposit_address: generateForm(\"Please enter the new Fund_deposit_address\", [[textField(\"Fund_deposit_address\")]]),\n  Fee_address: generateForm(\"Please enter the new Fee_address\", [[textField(\"Fee_address\")]])\n} \n\nlet wrapFormInTabTimeline = f => p => <TabTimeline tabs={{ _0: f }} onAccept={p.onAccept} onCancel={p.onCancel} />;\nlet adminSetters = G(changeDataForms, wrapFormInTabTimeline);\n\nclass Deposits extends Comp {\n  componentDidMount() { this.addSyncKeyObserver(data, \"fundDeposits\"); }\n  ren(p, s) { return loadingComponent(s.fundDeposits, <TabbedView tabs={F(E(s.fundDeposits).map(([k, v], i) => [`Deposit address #${i}`, () => <List data={v} headers={V(genHeaders(v))}/>]))}/>) }\n}\n\nclass Investors extends Comp { \n  ren(p, s) { return tabulize(1/3, [[<InvestorList onChangedSelectedInvestor={investor => this.setState({ investor })} EDeveloperMode={p.EDeveloperMode} />], \n    [D(s.investor) ? <EthTxView investor={s.investor} EDeveloperMode={p.EDeveloperMode} /> : tabulize(5/3, [[<Typography>{'Select an investor to show their transactions'}</Typography>]])]]) }\n}\n\nlet qEthTx = (method, params) => data.queuedEthTransactions.push(L(new Transaction(method, params))); \nclass Change_data extends Comp { \n  Owner(d) { qEthTx(\"transferOwnership\", [BN(d[\"Owner\"]).toString()]); }\n  AUM(d) { qEthTx(\"setAum\", [BN(d[\"AUM\"]).times(data.getFactor()).toString()]); }\n  BtcPrice(d) { qEthTx(\"setBtcPrice\", [BN(d[\"BtcPrice\"]).times(data.getFactor()).toString()]); }\n  RequestGas(d) { qEthTx(\"setRequestGas\", [BN(d[\"RequestGas\"]).toString()]); }\n  Daily_change(d) { qEthTx(\"setDataBlock\", [(BN(d[\"Daily_change\"]).times(data.getFactor())).toFixed().toString()]); }\n  Fees(d) { d = G(d, x => BN(x).toString()); qEthTx(\"setFee\", [d[\"fee1\"], d[\"fee2\"], d[\"fee3\"]]); }\n  Fund_deposit_address(d) { qEthTx(\"setfundDepositAddress\", [d[\"Fund_deposit_address\"]]) }\n  Fee_address(d) { qEthTx(\"setFeeAddress\", [d[\"Fee_address\"]]); }\n\n  ren(p, s) { return tabulize(5/3, V(G(adminSetters, (v, k) => [<OpenDialogButton id={k} comp={v} onAccept={d => this[k](d)} onCancel={I}/>]))) }\n}\n\nclass Pending_Deposits extends Comp { componentDidMount() { this.addSyncKeyObserver(data, \"pendingDeposits\"); }\n  approveAll(deps) { data.queuedEthTransactions.push(...deps.map(d => new Transaction(\"depositAdmin\", [pubKeyToEthAddress(d.pubKey, true), d.txId, d.pubKey, \"\"]))) }  \n  ren(p, s) { let pendingDeposits = oA(V(oO(s.pendingDeposits))[0]); //L(`Pending_Deposits: ${S(pendingDeposits)}`);\n    L(`admin wallet last login: ${S(oO(p.wallet).lastLogin)}`);\n    return loadingComponent(s.pendingDeposits, tabulize(5/3, [\n      [<OpenDialogButton id=\"Approve_all_pending_deposits\" parentProps={{ pendingDeposits }} comp={Approve_all_pending_deposits} onAccept={d => this.approveAll(d)}/>],\n      [<TabbedView tabs={F(E(s.pendingDeposits).map(([k, v], i) => [`Deposit address #${i}`, () => <List data={v} headers={V(genHeaders(v))}/>]))}/>]\n    ].filter(I))) \n  }\n}\n\nclass Pending_Withdrawals extends Comp { componentDidMount() { this.addSyncKeyObserver(data, \"withdrawalRequests\"); }\n  approveAll(withs) { data.queuedEthTransactions.push(...withs.map(d => new Transaction(\"returnInvestment\", [pubKeyToEthAddress(d.pubKey, true), d.txId, d.pubKey, \"\"]))) }\n  ren(p, s) {  let pendingWithdrawals = oA(s.withdrawalRequests);\n    return loadingComponent(s.withdrawalRequests, tabulize(5/3, [\n    [<OpenDialogButton id=\"Approve_all_pending_withdrawals\" parentProps={{ pendingWithdrawals }} comp={Approve_all_pending_withdrawals} onAccept={d => this.approveAll(d)} />],\n    [<List data={s.withdrawalRequests} headers={V((genHeaders(s.withdrawalRequests)))} />]\n  ])) }\n}\n\nclass Queued_Eth_Transactions extends Comp {\n  componentDidMount() { this.addSyncKeyObserver(data, \"queuedEthTransactions\"); }\n  signAndSubmit(creds) { L(`signAndSubmit : ${S(creds)}`);\n     this.setState({ progressDialogOpen: true, progressDialogTitle: \"Decrypting wallet...\" }, () => setTimeout(async () => await this.performApproveWithCreds(creds), 500))\n  }\n  async performApproveWithCreds(creds) { //L(`performApproveWithCreds : ${S(creds)}`)\n    let privateKey = await wallet.getPrivateKey(creds); \n    this.setState({ progressDialogOpen: true, progressDialogTitle: \"Signing transactions...\" }, () => setTimeout(async () => {\n      await data.signAndSubmitQueuedEthTransactions(privateKey); \n      data.queuedEthTransactions = data.queuedEthTransactions.map(x => ({ ...x, status: \"Submitted\" }))\n      this.setState({ progressDialogOpen: false, getPwdDialogOpen: false });\n    }, 500));\n  } \n  ren(p, s) { let Wallet = oO(oO(p.wallet).lastLogin).name;\n    return tabulize(5/3, [ \n      [<>{button(\"Sign and submit queued transactions\", () => this.setState({ getPwdDialogOpen: true }))}<ProgressDialog open={s.progressDialogOpen || false} title={s.progressDialogTitle} progress={U} />\n      <GetPasswordDialog open={s.getPwdDialogOpen} walletName={Wallet} onAccept={creds => this.signAndSubmit({ ...creds, Wallet })} onCancel={() => this.setState({ getPwdDialogOpen: false })}/></>],\n      [<List data={s.queuedEthTransactions} headers={V((genHeaders(s.queuedEthTransactions)))} />]\n    ]) \n  }\n}\n\nexport class Admin extends Comp {\n  ren(p, s) { //L(`admin wallet: ${S(p.wallet)}`);\n    return <TabbedView tabs={{ Investors, Pending_Withdrawals, Deposits, Pending_Deposits, Change_data, Queued_Eth_Transactions }} parentProps={{ wallet: p.wallet, EDeveloperMode: p.EDeveloperMode }}/>; }\n}\n","/* eslint react/jsx-key: 0 */\n/* eslint react/prop-types: 0 */\nimport React from 'react';\n// eslint-disable-next-line\nimport { Box, TextField } from '@material-ui/core';\n// eslint-disable-next-line\nimport { Comp, ValidatableComp, TabbedView, TabTimeline, button, formTable, form, preamble } from './components'; \n// eslint-disable-next-line\nimport { A, D, E, F, H, I, K, L, S, U, V, oA, oF, oO, oS, asA, singleKeyObject } from '../common/tools.mjs'; \nimport * as bip39 from 'bip39';\nimport LockIcon from '@material-ui/icons/Lock';\nimport { generateSeedWords } from \"../common/crypto\";\n\n//let defaultWords = 'gorilla endorse hat lumber old price route put goose sail lemon raise'.split(\" \");\n\nclass SeedView extends ValidatableComp {\n  constructor(p, s) { super(p, s);  \n    this.setNewInitialWords();\n    this.initRefs(K(this.state).join(\" \"));\n    this.constructed = true;\n  }\n  setNewInitialWords() {  \n     let values = {};\n     for (let q = 0; q < 12; ++q) values[this.getKey(q)] = oS(oA(this.props.initialWords)[q]);  \n     if (this.constructed) { this.setState({ values }); } else { this.state.values = values; }\n  }\n  checkWordsInList(wordList) { //L(`checkWordsInList: ${wordList}`);\n    return this.setErrors(F(this.getWords().map((w, i) => (!(wordList.includes(w))) ? `Word '${w}' is not an accepted word.` : U).filter(I).map((r, i) => [this.getKey(i), (r)])));  \n  }\n  checkWordsEqual(expectedWords) { let gotWords = this.getWords();  \n    return this.setErrors(F(gotWords.map((w, i) =>  (!(w === expectedWords[i])) ? `This word is not correct.` : U).filter(I).map((r, i) => [this.getKey(i), r])));  \n  }\n  componentDidUpdate(prevP) { if (prevP.initialWords !== this.props.initialWords) this.setNewInitialWords(); }\n  getKey(x) { return `Word_${x}`}\n  getWords() { let result = []; for (let q = 0; q < 12; ++q) result.push(this.state.values[this.getKey(q)]);  return result; }\n  ren(p, s) { return formTable([0, 1, 2].map(a => [0, 1, 2, 3].map(b => this.genTextField(this.getKey(4*a + b), { disabled: p.disabled })))) }\n}\n\nclass Setup_password extends ValidatableComp { constructor(p, s) { super(p, s, \"Wallet Password Confirm_password\"); }\n  ren(p, s) { return form(preamble(\"Setup password\", \"Your wallet will be password protected and encrypted. Please, choose a strong password.\"), \n    [[this.genTextField(\"Wallet\")], [this.genTextField(\"Password\", { type: \"password\" })], [this.genTextField(\"Confirm_password\", { type: \"password\" } )]]) }\n  validate() { let e = {};\n    if (this.state.values.Password !== this.state.values.Confirm_password) { e[\"Password\"] = \"Passwords don't match\"; e[\"Confirm_password\"] = \"Passwords don't match\"; } \n    if (oS(this.state.values.Password).length < 8) e[\"Password\"] = \"Please use at least 8 characters\";\n    if (oS(this.state.values.Wallet).length < 1) e[\"Wallet\"] = \"Please choose a name for your wallet\";\n    return ((this.setErrors(e)) && (this.state.values));\n  }\n}\n\nclass Enter_credentials extends ValidatableComp { constructor(p, s) { super(p, s, \"Wallet Password\"); }\n  ren(p, s) { return formTable([[preamble(\"Unlock your wallet\", \"Select a wallet, type the password and unlock it.\")], [<LockIcon fontSize={\"large\"}/>], \n    [this.genTextField(\"Wallet\")], [this.genTextField(\"Password\", { type: \"password\" })]]) }\n  validate() { let e = {};\n    if (oS(this.state.values.Password).length < 1) e[\"Password\"] = \"Please enter your password\";\n    if (oS(this.state.values.Wallet).length < 1) e[\"Wallet\"] = \"Please choose a wallet\";\n    return this.setErrors(e) && { creds: this.state.values };\n  }\n}\n\nclass Backup_seed extends ValidatableComp { constructor(p, s) { super(p, s, \"seedView\"); }\n  validate() { return { creds: this.state.creds, words: this.state.words }; }\n  componentDidMount() { super.componentDidMount(); this.setState({ words: generateSeedWords() }) }\n  setPrecedingResult(creds) { this.setState({ creds }) }\n  ren(p, s) {\n    return <form noValidate autoComplete=\"off\">\n      {preamble(\"Backup seed\", \"Please write these 12 words down, in order, and keep them somewhere safe offline. With them you will be able to recover your wallet.\", \"Never give your seed keys to anyone, we will never ask you to share them with us.\")}\n      <SeedView ref={this.fers.seedView} initialWords={s.words} disabled={true} /></form>;\n  }\n}\n\nclass Verify_seed extends ValidatableComp { constructor(p, s) { super(p, s, \"seedView\"); }\n  setPrecedingResult(input) { this.setState({ ...input }) }\n  validate() { let sv = this.fers.seedView.current; return sv.checkWordsEqual(oA(this.state.words)) && { creds: this.state.creds, seedWords: this.state.words }; }\n  ren(p, s) {\n    return <form noValidate autoComplete=\"off\">{preamble(\"Verify seed\", \"Your seed is very important! If your lose your seed your funds will be permantently lost.\")}\n      <SeedView ref={this.fers.seedView}/></form>;\n  }\n}\n\nclass Input_seed extends ValidatableComp { constructor(p, s) { super(p, s, \"seedView\"); }\n  setPrecedingResult(creds) { this.setState({ creds }) }\n  validate() { let sv = this.fers.seedView.current; return sv.checkWordsInList(bip39.wordlists.english) && { creds: this.state.creds, seedWords: sv.getWords() }; } \n  ren(p, s) { return <form noValidate autoComplete=\"off\">{preamble('Input seed', 'Restore your wallet from your previously backed up seed.', 'Never give your seed keys to anyone, we will never ask you to share them with us.')}\n    <SeedView ref={this.fers.seedView}/></form>;\n  }\n} \n\nclass Unlock_wallet extends Comp { ren(p, s) { return <TabTimeline tabs={{ Enter_credentials }} onAccept={p.onAccept} onCancel={p.onCancel} acceptText=\"Unlock\"/>; } }\nclass Create_wallet extends Comp { ren(p, s) { return <TabTimeline tabs={{ Setup_password, Backup_seed, Verify_seed }} onAccept={p.onAccept} onCancel={p.onCancel}/>; } }\nclass Seed_Login extends Comp { ren(p, s) { return <TabTimeline tabs={{ Setup_password, Input_seed }} onAccept={p.onAccept} onCancel={p.onCancel}/>; } }\n\nexport class Log_in extends Comp { \n  ren(p, s) { return <TabbedView tabs={{ Unlock_wallet, Create_wallet, Seed_Login }} parentProps={{ onAccept: p.onAccept, onCancel: p.onCancel }}/>; } \n}","/* eslint react/jsx-key: 0 */\n/* eslint react/prop-types: 0 */\nimport React from 'react';\nimport { A, S, V, oA, oO } from '../common/tools.mjs';\nimport { amfeixAddressLists, btcRpcUrl, btcFields, data, ethBasicFields } from '../core/data';\n// eslint-disable-next-line\nimport { button, genHeaders, commonDataTypes, Selector, Comp, TabbedView, List, captionMap, tabulize } from './components';\n//import { genHeaders } from './investor';\n\nclass Bitcoin_P2P_Network extends Comp {\n  componentDidMount() { btcFields.forEach(f => this.addSyncKeyObserver(data, f)); }\n  ren(p, s) { return tabulize(1/3, [\n    [tabulize(1/3, [[\"RPC url\", btcRpcUrl]])], \n    [<List data={(btcFields.map(name => ({ name, value: S(oO(s[name]).result) })))} />], \n    [button(\"Refresh\", data.updateConstants['btc'])]\n  ]); }\n} \n\nclass Ethereum_P2P_Network extends Comp {\n  componentDidMount() { amfeixAddressLists.concat(ethBasicFields).concat([\"ethRPCUrl\"]).forEach(f => this.addSyncKeyObserver(data, f)); }\n  ren(p, s) {\n    return tabulize(2/3, [\n      [tabulize(1/3, [[\"RPC url\", s.ethRPCUrl]])],\n      [<List data={ethBasicFields.map(name => ({ name, value: S(oO(s[name])) }))} />],\n      [button(\"Refresh\", data.updateConstants['eth'])],\n      [tabulize(1/3, [amfeixAddressLists.map(k => {\n        let h = genHeaders(s[k]);\n        A(oO(h.data), { caption: \"Address\", displayFunc: commonDataTypes.btcAddress.displayFunc });\n        return tabulize(1/3, [[<List caption={captionMap[k]} data={(oA(s[k]))} headers={V(h)} />], [button(\"Refresh\", () => data.updateFixedLengthArray(k))]]);\n      })])]\n    ]);\n  }\n}\n\nexport class Network extends Comp { ren(p, s) { return <TabbedView tabs={({ Bitcoin_P2P_Network, Ethereum_P2P_Network })} />; } }\n","/* eslint react/jsx-key: 0 */\n/* eslint react/prop-types: 0 */\nimport React from 'react';\n// eslint-disable-next-line\nimport { D, E, L, S, U, oO } from '../common/tools.mjs';\nimport { data } from '../core/data';\nimport { tabulize, Comp, List } from './components'; \nimport { LinearProgress } from '@material-ui/core' \n\nclass ProgressDependentView extends Comp {\n  componentDidMount() { \n    let displayDelay = 500, lastUpdate = (Date.now() - displayDelay);\n    this.addSyncObserver(data, \"loadProgress\", newProgress => {\n      let loadProgress = newProgress;\n      let currentTime = Date.now(), deltaS = (currentTime - lastUpdate), update = () => { //L({currentTime});\n        this.updateTimeout = false;\n        displayDelay = Math.min(4000, 1.17 * displayDelay);\n        lastUpdate = currentTime; \n        return !this.unmounted && this.setState({ loadProgress: { ...loadProgress } });\n      }; \n      if ((deltaS >= displayDelay)) { update(); } else if (!(this.updateTimeout)) { this.updateTimeout = setTimeout(update, displayDelay - deltaS); }\n    });\n  }  \n\n  isLoaded() { let d = oO(this.state.loadProgress?.progress)[\"Loading...\"]; return D(d?.length) && (d.index === d.length); }\n}\n\nclass Progress extends ProgressDependentView { \n  ren(p, s) { return tabulize(1/2, [\n    [tabulize(1/2, E((oO(oO(s.loadProgress).progress))).map(([key, d]) => [key, \n    D(d.index) ? tabulize(1/7, [[`${d.index} / ${D(d.length) ? d.length : '?'}` + (D(d.length) ? ` (${Math.round(100*(d.index/d.length))}%)` : '')], \n         [<LinearProgress variant={D(d.length) ? \"determinate\" : U} value={D(d.length) ? ((100*d.index)/d.length) : U} />]])\n    : `${S(d)} ms`\n  ]))],\n  [<List data={E((oO(oO(s.loadProgress).timings))).map(([key, data]) => ({ key, timing: `${S(data)} ms` }))} />]\n  ]); }\n}\n\nclass SimpleProgress extends ProgressDependentView { ren(p, s) { let d = oO(s?.loadProgress?.progress)[\"Loading...\"]; \n  return !this.isLoaded() ? tabulize(1/2, [[\"Loading...\"], [<LinearProgress variant={D(d?.length) ? \"determinate\" : U} value={D(d?.length) ? ((100*d.index)/d.length) : U} />]]) : null;\n} }\n\nexport { Progress, ProgressDependentView, SimpleProgress }","import { D } from '../common/tools.mjs';\n\nexport let darkMode = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;\nexport let getMainLightness = (fg, dm) => ((D(dm) ? dm : darkMode) ^ fg) ? 0 : 1;\nexport let getMainColor = (fg, dm) => [\"#000\", \"#FFF\"][getMainLightness(fg, dm)];\nexport let basePallette = dark => ({ color: getMainColor(true, dark), backgroundColor: getMainColor(false, dark) });\nexport let seriesColors = (i, dark) => (`#FF2170`);\n","/* eslint react/jsx-key: 0 */\n/* eslint react/prop-types: 0 */\n// eslint-disable-next-line\nimport React from 'react'; //import ReactDOM from 'react-dom';\nimport Highcharts from 'highcharts/highstock'; import HighchartsReact from 'highcharts-react-official';\n// eslint-disable-next-line\nimport { basePallette, getMainLightness, seriesColors, getMainColor, darkMode } from './colors';\nimport { ethBasicFields, data } from '../core/data';\n// eslint-disable-next-line\nimport { ProgressDialog, OpenDialogButton, DialogWrap, Selector, ValidatableComp, Comp, TabbedView, button, tabulize, formTable } from './components'; \n// eslint-disable-next-line\nimport { AppBar, Toolbar, Button, Box, TextField, Paper } from '@material-ui/core';\n// eslint-disable-next-line\nimport { A, D, H, I, L, S, T, U, oA, oF, oS, asA } from '../common/tools.mjs'; \n// eslint-disable-next-line\nimport { InvestorID, InvestorList, EthTxView, InvestorDependentView_Eth } from './investor';\n// eslint-disable-next-line\nimport { satoshiToBTCFloat, satoshiToBTCString } from '../core/satoshi';\n\nlet chart = (title, valueSuffix, datas, dark) => <HighchartsReact constructorType={\"stockChart\"} highcharts={Highcharts} options={{ \n  rangeSelector: {selected: 1}, title: { text: title }, navigator: {enabled: true}, credits: {enabled: false}, \n  chart: { zoomType: \"x\", ...basePallette(dark),\n   events: { load: function() { //let n = Date.now(); let x =  this.xAxis[0]; if (D(x)) { x.setExtremes((n - 30*24*60*60*1000), n); this.showResetZoom(); } } \n  } } \n}, \n  plotOptions: { areaspline: { fillColor: `hsla(240, 75%, ${100*getMainLightness(true, dark)}%, 20%)` } }, \n  yAxis: [{ labels: { formatter: function () { return this.axis.defaultLabelFormatter.call(this) + valueSuffix; } } }],  \n  xAxis: { events: { aferSetExtremes: function(e) {  } }}, \n  series: datas.map((series, i) => ({ name: series.name, type: \"areaspline\", tooltip: { valueSuffix }, color: seriesColors(i, dark), data: series.data || [] })) \n}}/>;\n\nlet timeDataTrafo = (name, data) => ({ name, data })//: oA(data).map(([t, d]) => [t, d]) })\n\nclass FundIndexChart extends Comp { componentDidMount() { this.addSyncKeyObserver(data, \"timeData\");  }\n  ren(p, s) { return <Box>{chart('Fund Index', \" %\", [timeDataTrafo(\"ROI\", s.timeData)], p.dark)}</Box> }\n}\n\nexport class Impact_Fund extends InvestorDependentView_Eth {\n  componentDidMount() { super.componentDidMount(); ethBasicFields.concat(T(\"roi dailyChange timeData\")).map(k => this.addSyncKeyObserver(data, k)); } \n\n  ren(p, s) { let changePerc = v => D(v) ? `${v >= 0 ? \"+\" : \"-\"}${v}%` : ''; //L(`Fundview inv = ${S(p.investor)}`);\n    let iData = this.getInvestorData(); \n    let displayTrafo = { dailyChange: changePerc, aum: v => `${parseInt(v)/Math.pow(10, s.decimals)} BTC` }\n    let parfs = p => p.map((e, i) => <p key={i}>{e}</p>);\n    return tabulize(1/3, [p.urlParams.testMode ? [<InvestorID investor={p.investor}/>] : U,\n      [tabulize(1/3, [[tabulize(1/3, [[parfs(D(iData.investmentValue)  ? [`${satoshiToBTCString(iData.investmentValue)} BTC`, `Investment Value`] : [])], [parfs([changePerc(s.roi), `ROI`])]]), <FundIndexChart dark={p.dark}/>]])],\n      [tabulize(1/3, [T(\"dailyChange aum btcPrice\").map((v, i) => `${v}: ${(displayTrafo[v] || I)(s[v])}`)])],\n      [iData.valueSeries && chart('Investment Performance', \" BTC\", [timeDataTrafo(\"Value\", oF(iData.valueSeries)())], p.dark)],\n      [<EthTxView investor={p.investor} EDeveloperMode={p.EDeveloperMode}/>]\n    ].filter(D)) \n  }\n}\n","/* eslint react/jsx-key: 0 */\n/* eslint react/prop-types: 0 */\n/* eslint no-unused-vars: 0 */\nimport React from 'react';\n// eslint-disable-next-line\nimport { Box, TextField } from '@material-ui/core';\n// eslint-disable-next-line\nimport { commonDataTypes, dataSummary, testModeComp, wrapEllipsisDiv, applyListHeaders, loadingComponent, OpenDialogButton, DialogWrap, Comp, ValidatableComp, tabulize, form, formTable, TabbedView, TabTimeline, button, List, genHeaders, dataList } from './components'; \n// eslint-disable-next-line\nimport { A, D, E, F, H, I, K, L, P, S, T, U, V, oA, oF, oO, oS, asA, singleKeyObject } from '../common/tools.mjs'; \nimport { InvestorDependentView_Btc, InvestorID, EthTxView } from './investor'\n// eslint-disable-next-line\nimport QRCode from 'qrcode-svg';\nimport { pubKeyToBtcAddress } from '../common/pubKeyConvertor';\n// wc52mNR2qTpFfNP\n// eslint-disable-next-line\nclass _Withdraw_ extends Comp { ren(p, s) { return <TabTimeline tabs={{ Withdraw, Review, Done }} onCancel={p.onCancel} onAccept={p.onAccept}/>; } }\n\nclass Account extends Comp { constructor(p, s) { super(p, s, \"dlgWithdraw\"); }\n  ren(p, s) { I(`account: ${S(p.wallets)}`); let headers = V(applyListHeaders(F(T(\"name privateKey chainCode publicKey btcAddress ethAddress\").map(k => [k, ({ label: k, caption: k })]))));\n  return formTable([[<List data={(E(oO(oO(p.wallet).accounts)).map(([name, wallet]) => ({ name, ...wallet})))} headers={headers}/>], \n  //  [<OpenDialogButton id=\"Withdraw\" comp={WithdrawDialog} onAccept={I} onCancel={I}/>]\n  ])}\n}\n\nlet investorCompIfTestMode = (p) => testModeComp(p.urlParams.testMode, () => <InvestorID investor={p.investor} />); \n\nclass History extends InvestorDependentView_Btc { \n  ren(p, s) { let walletData = (this.getInvestorWalletData()), selectedTx = oO(oA(walletData.txs)[s.selectedTx]); //, allLoaded = txTypes.reduce((p, c) => p && D(walletData[c]), true); //L(`p.wallet = ${S(p.wallet)}`)\n//    let All_transactions = () => loadingComponent(allLoaded, simpleList(L(txTypes).map(type => oA(walletData[type]).map(d => ({...d, type: type.slice(0, type.length - 1) }))).flat()));\nL({walletData});\n    return tabulize(1/3, [[tabulize(1/3, [['Final balance', loadingComponent(walletData.finalBalance, commonDataTypes.btcSatoshis.displayFunc(walletData.finalBalance))]])], \n    [dataList(L(oA(walletData.txs).map(tx => P(tx, T(\"time txId type delta fee\")))), { onChange: selectedTx => this.setState({ selectedTx })})],\n    [tabulize(1/3, [[dataList(selectedTx.ins), dataList(selectedTx.outs)]])]]); \n  } \n}\n\nclass Invest extends ValidatableComp { ren(p, s) { L(`investor = ${S(p.investor)}`); let btcAddress = oS(oO(p.investor).btcAddress); let dim = 256;\n  let qrCode = btcAddress.length > 0 ? (new QRCode({ content: btcAddress, ecl: \"H\", width: dim, height: dim, join: true, container: \"svg-viewbox\", xmlDeclaration: false })).svg() : U;\n  return tabulize(1/3, [[qrCode ? <div style={{width: \"30em\", height: \"30em\"}} dangerouslySetInnerHTML={{ __html: qrCode }} /> : null], [this.genTextField(\"Bitcoin personal Investment address\", { value: btcAddress, disabled: true })]]); \n} } \n\nclass Done extends ValidatableComp { ren(p, s) { return <Box/>; } }\nclass Review extends ValidatableComp { ren(p, s) { return <Box/>; } }\nclass Withdraw extends ValidatableComp { ren(p, s) { return form(null, [[this.genTextField(\"To\", \"The address of the recipient\")], [this.genTextField(\"Amount\", \"Amount to be sent\")], [this.genTextField(\"Fees\")]]); } }\n\nexport class Bitcoin_Wallet extends Comp { ren(p, s) { let investor = p.investor || oO(oO(p.wallet).lastLogin);\n  if (!D(investor.btcAddress) && D(investor.pubKey)) investor.btcAddress = pubKeyToBtcAddress(investor.pubKey);\n  return <>{investorCompIfTestMode(p)}{tabulize(1/3, [\n    [<TabbedView tabs={{ History, Invest, _Withdraw_ }} parentProps={{investor, ...(P(p, T(\"urlParams wallet\")))}} />],\n  [<EthTxView investor={p.investor} EDeveloperMode={p.EDeveloperMode}/>]\n])}</>\n} }\n","/* eslint react/jsx-key: 0 */\n/* eslint react/prop-types: 0 */\n/* eslint no-unused-vars: 0 */\nimport React from 'react'; import ReactDOM from 'react-dom';\nimport * as serviceWorker from './serviceWorker';\n// eslint-disable-next-line\nimport { A, D, E, F, G, H, I, K, L, P, S, T, U, V, oA, oO, oS, asA, makeEnum, singleKeyObject } from './common/tools.mjs';  \n// eslint-disable-next-line\nimport { FormControlLabel, Switch, List, ListItem, ListItemText, ListItemIcon, AppBar, Toolbar, Typography, Button, Box, TextField, Paper, Accordion, AccordionSummary, AccordionDetails } from '@material-ui/core';\nimport { createMuiTheme, ThemeProvider}  from '@material-ui/core/styles';\n// eslint-disable-next-line\nimport { Sidebar, ProgressDialog, OpenDialogButton, DialogWrap, cleanText, Selector, ValidatableComp, Comp, TabbedView, button, tabulize, formTable } from './ui/components'; \nimport { Admin } from './ui/admin';\nimport { Log_in } from './ui/login';\nimport { Network } from './ui/network';\nimport { Progress, SimpleProgress, ProgressDependentView } from './ui/loadProgressView'\nimport { Impact_Fund } from './ui/impactFund';\nimport { Bitcoin_Wallet } from './ui/wallet'; \n// eslint-disable-next-line\nimport { InvestorID, InvestorList, EthTxView, InvestorDependentView } from './ui/investor';\n//import ImpactFundIcon from './assets/impactFund.svg'\nimport { wallet } from './core/wallet';\nimport { pubKeyToEthAddress, pubKeyToBtcAddress } from \"./common/pubKeyConvertor\";\n// eslint-disable-next-line\nimport { basePallette, getMainLightness, seriesColors, getMainColor, darkMode } from './ui/colors';\nimport { version } from './version.js'; \nimport { data, ethInterfaceUrls } from './core/data'; \n// eslint-disable-next-line\nimport { EPallette, EUserMode, EDeveloperMode, enumDefault, enumDefObj } from './core/enums';  \n\nlet url = new URL(window.location.href);\nlet getUrlParam = k => (v => v === null ? U : v)(url.searchParams.get(k));\nlet urlParams = F(T(\"asEthAddress asPublicKey asBtcAddress\").map(k => [k, getUrlParam(k)]));\nurlParams.testMode = D(L(getUrlParam(\"8e763620037a1054b3656092dece8d324eef5dd5efd4e4d5c1bbc125c9c74996\")));\n\nclass Settings extends Comp {\n  ethInterfaceChanged(v) { data.setEthRPCUrl(ethInterfaceUrls[v]) }\n  ren(p, s) { \n    return tabulize(1/3, [\n      [<Selector options={ethInterfaceUrls} onChanged={v => this.ethInterfaceChanged(v)}/>],\n      [button(\"Compute data\", () => { data.computeData(); })],\n    ]) \n  }\n}\n\nclass Cache extends Comp {\n  ethInterfaceChanged(v) { data.setEthRPCUrl(ethInterfaceUrls[v]) }\n  ren(p, s) { \n    return tabulize(1/3, [\n      [button(\"Clear data cache\", async () => { await data.clearCache() })],\n      [button(\"Clear bitcoin transaction cache\", async () => { await data.clearTransactionCache('btc'); })],  \n      [button(\"Clear ethereum registered transaction cache\", async () => { await data.clearTransactionCache('eth'); })]\n    ]) \n  }\n}\n \n// wc52mNR2qTpFfNP \nclass MainView extends ProgressDependentView { //constructor(p, s) { super(p, s);} \n  startWalletOp(walletOperation, f) { this.setState({ walletOperation, progressDialogOpen: true }, () => setTimeout(async () => { await f(); this.setState({ progressDialogOpen: false }) }, 500));  }\n  acceptLogIn(d) { \n    if (d.seedWords) { this.startWalletOp(\"Encrypting\", () => wallet.add(d.creds, d.seedWords, status => { this.setState({ walletCodecProgress: L(status.percent) }); })); }\n    else { this.startWalletOp(\"Decrypting\", () => wallet.open(d.creds, status => this.setState({ walletCodecProgress: status.percent }))); }\n    return true;\n  }\n  ren(p, s) { let tabs = A({ Bitcoin_Wallet, Impact_Fund }, p.EUserMode.Admin ? ({ Progress, Admin, Network, Settings, Cache }) : ({}));\n//    {p.EUserMode.Admin ? <OpenDialogButton id=\"Log_in\" comp={Log_in} onAccept={d => this.acceptLogIn(d)}/> : null}\n    return !(p.EUserMode.Admin || this.isLoaded()) ? <SimpleProgress/> : <><SimpleProgress/>\n    <AppBar position=\"static\"><Toolbar><p>{`Version >= ${version}`}</p><OpenDialogButton id=\"Log_in\" comp={Log_in} onAccept={d => this.acceptLogIn(d)}/>\n      {D(oO(p.wallet).lastLogin) ? button(\"Log out\", () =>  ({ })) : null}\n      {D(oO(p.wallet).lastLogin) ? `You are logged in to wallet '${p.wallet.lastLogin.name}'` : 'You are not logged in'}\n    </Toolbar></AppBar> \n    <TabbedView tabs={tabs} parentProps={{...P(p, T(\"EDeveloperMode EUserMode investor dark urlParams wallet\")) }} TabsControl={props => \n    tabulize(0, [[<Paper><img alt=\"amfeix-logo\" style={{width: \"100%\", height: \"100%\"}} src=\"amfeix.png\"/></Paper>], [<hr/>], [<Sidebar tabs={tabs} {...props}/>]])} horizontal={true}/> \n    <ProgressDialog open={s.progressDialogOpen || false} title={`${s.walletOperation} wallet...`} progress={s.walletCodecProgress} /></> \n} }\n\nlet investor;\nif (urlParams.asEthAddress) investor = { data: urlParams.asEthAddress };\nif (urlParams.asPublicKey) investor = { data: L(\"0x\" + pubKeyToEthAddress(urlParams.asPublicKey)), pubKey: urlParams.asPublicKey, btcAddress: L(pubKeyToBtcAddress(urlParams.asPublicKey)) }\n\nL(`Initializing with investor ${S(investor)}`);\n\nif (D(investor)) data.runWhenDBInitialized(() => data.registerInvestorAddress(investor.data)); \n\nclass App extends Comp { constructor(p) { super(p, { wallet, investor, ...G({EDeveloperMode, EUserMode, EPallette}, enumDefObj)}); this.state.theme = this.createTheme(); } \n  isDark() { let s = this.state; return !D(s.EPallette) || s.EPallette.Default ? darkMode : D(s.EPallette.Dark) }\n  createTheme() { let s = this.state; let dark = this.isDark();\n    A(document.body.style, { color: getMainColor(true, dark), backgroundColor: getMainColor(false, dark) });\n    return createMuiTheme({ palette: { type: dark ? 'dark' : 'light' } }) ;\n  } \n  ren(p, s) { \n    return <ThemeProvider theme={s.theme}>{urlParams.testMode ? <>\n      {tabulize(1/3, [[...E({EUserMode, EDeveloperMode, EPallette}).map(([k, v]) => <Selector options={K(v).map(cleanText)} horizontal={true} onChanged={i => this.setState(singleKeyObject(k, singleKeyObject(V(v)[i], true)), this.setState({ theme: this.createTheme() }))}/>)]])}\n      <InvestorList caption={\"Choose an investor to simulate the UI\"} onChangedSelectedInvestor={investor => this.setState(L({ investor }))} {...(P(s, T(\"EUserMode EDeveloperMode\")))} />\n      <InvestorID investor={s.investor} />\n    </> : null}\n    <p>Future UI (work in progress) below this line.  Numbers shown may be inaccurate or entirely incorrect due to the development process being in progress.</p>\n    <hr/>\n    <MainView {...(P(s, T(\"investor EUserMode EDeveloperMode wallet\")))} urlParams={urlParams} dark={this.isDark()}/></ThemeProvider> \n  } \n} \n\nReactDOM.render(<React.StrictMode><App alt=\"App\"/></React.StrictMode>, document.getElementById('root')); serviceWorker.unregister();","export let version = 95;\n"],"sourceRoot":""}